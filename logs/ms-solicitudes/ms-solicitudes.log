2025-11-22T00:40:51.564Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-22T00:40:51.676Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-22T00:40:58.455Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-22T00:40:58.777Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 282 ms. Found 5 JPA repository interfaces.
2025-11-22T00:41:01.544Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-22T00:41:01.606Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-22T00:41:01.610Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-22T00:41:01.788Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-22T00:41:01.790Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9826 ms
2025-11-22T00:41:04.640Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-22T00:41:04.749Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-22T00:41:05.591Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@460eb276
2025-11-22T00:41:05.594Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-22T00:41:05.841Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-22T00:41:11.635Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T00:41:15.332Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-22T00:41:15.429Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-22T00:41:17.837Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-22T00:41:19.249Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-22T00:41:19.308Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 29.663 seconds (process running for 33.41)
2025-11-22T00:44:49.594Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-22T00:44:49.696Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/2/solicitar-ruta
2025-11-22T00:44:50.262Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T00:44:50.269Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d0f4a441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T00:44:50.281Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/2/solicitar-ruta
2025-11-22T00:44:50.408Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.requestRoute(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:44:50.445Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.requestRoute(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:44:50.446Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/2/solicitar-ruta - Solicitando ruta
2025-11-22T00:44:50.447Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Solicitando ruta para solicitud ID: 2 al microservicio de rutas (persistEstimates=false)
2025-11-22T00:44:52.220Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T00:44:52.225Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T00:44:52.226Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d0f4a441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T00:44:52.226Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T00:44:52.228Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:44:52.229Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:44:52.229Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T00:44:52.336Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Solicitud no encontrada con ID: 2
2025-11-22T00:44:52.339Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 404 - Solicitud no encontrada
2025-11-22T00:44:52.628Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Error al solicitar ruta para solicitud ID: 2 - 500 Internal Server Error: [no body]
2025-11-22T00:47:01.737Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T00:47:01.740Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T00:47:01.740Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d0f4a441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T00:47:01.741Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T00:47:01.742Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:47:01.744Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:47:01.744Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T00:47:01.747Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Solicitud no encontrada con ID: 2
2025-11-22T00:47:01.748Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 404 - Solicitud no encontrada
2025-11-22T00:49:34.829Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-22T00:49:34.834Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T00:49:34.834Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d0f4a441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T00:49:34.835Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-22T00:49:34.838Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:49:34.838Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:49:34.839Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-22T00:49:34.918Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 0 solicitudes encontradas
2025-11-22T00:49:48.189Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T00:49:48.192Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T00:49:48.192Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d0f4a441, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T00:49:48.193Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T00:49:48.816Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T00:49:50.864Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 567, CABA': lat=-34.5875861, lon=-58.412268
2025-11-22T00:49:50.866Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5875861, lon=-58.412268
2025-11-22T00:49:51.830Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 123, CABA': lat=-34.6028098, lon=-58.3693688
2025-11-22T00:49:51.831Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.6028098, lon=-58.3693688
2025-11-22T00:49:51.869Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.ClienteService          : Guardando cliente: Cliente Test
2025-11-22T00:49:51.916Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-22T00:49:51.943Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 2 para la solicitud
2025-11-22T00:49:51.982Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 1
2025-11-22T00:49:51.983Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 1
2025-11-22T00:50:53.461Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-22T00:50:53.483Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T00:50:53.484Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fb5a5e67, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T00:50:53.484Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-22T00:50:53.485Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:50:53.486Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:50:53.486Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-22T00:50:53.503Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 1 solicitudes encontradas
2025-11-22T00:51:10.730Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T00:51:10.732Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T00:51:10.733Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fb5a5e67, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T00:51:10.733Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T00:51:10.734Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:51:10.735Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:51:10.735Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T00:51:10.739Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Solicitud no encontrada con ID: 2
2025-11-22T00:51:10.740Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 404 - Solicitud no encontrada
2025-11-22T00:51:22.176Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/1
2025-11-22T00:51:22.178Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T00:51:22.179Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fb5a5e67, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T00:51:22.179Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/1
2025-11-22T00:51:22.181Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:51:22.182Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T00:51:22.182Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/1 - Buscando solicitud por ID
2025-11-22T00:51:22.186Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/1 - Respuesta: 200 - Solicitud encontrada
2025-11-22T01:02:33.643Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-22T01:02:33.657Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:02:33.658Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@99e08c6d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:02:33.659Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-22T01:02:33.661Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:02:33.662Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:02:33.662Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-22T01:02:33.668Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 1 solicitudes encontradas
2025-11-22T01:05:26.236Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T01:05:26.239Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:05:26.240Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@99e08c6d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:05:26.241Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T01:05:26.244Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T01:05:27.547Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Córdoba 1500, CABA, Buenos Aires': lat=-34.5994611, lon=-58.3880387
2025-11-22T01:05:27.547Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5994611, lon=-58.3880387
2025-11-22T01:05:28.614Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. San Martín 2500, Río Gallegos': lat=-51.6472855, lon=-69.2364404
2025-11-22T01:05:28.614Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-51.6472855, lon=-69.2364404
2025-11-22T01:05:28.618Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-22T01:05:28.630Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 3 para la solicitud
2025-11-22T01:05:28.639Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 2
2025-11-22T01:05:28.639Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 2
2025-11-22T01:05:36.827Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/1
2025-11-22T01:05:36.829Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:05:36.830Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@99e08c6d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:05:36.830Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/1
2025-11-22T01:05:36.832Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:05:36.832Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:05:36.832Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/1 - Buscando solicitud por ID
2025-11-22T01:05:36.836Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/1 - Respuesta: 200 - Solicitud encontrada
2025-11-22T01:05:46.372Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T01:05:46.375Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:05:46.375Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@99e08c6d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:05:46.375Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T01:05:46.376Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:05:46.377Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:05:46.377Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T01:05:46.386Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 200 - Solicitud encontrada
2025-11-22T01:17:44.308Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T01:17:44.321Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:17:44.322Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@40a6e560, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:17:44.322Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T01:17:44.324Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:17:44.325Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:17:44.325Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T01:17:44.339Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 200 - Solicitud encontrada
2025-11-22T01:19:35.654Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T01:19:35.656Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:19:35.660Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@40a6e560, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:19:35.660Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T01:19:35.662Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:19:35.662Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:19:35.662Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T01:19:35.667Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 200 - Solicitud encontrada
2025-11-22T01:19:41.529Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-22T01:19:41.531Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:19:41.532Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@40a6e560, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:19:41.532Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-22T01:19:41.534Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:19:41.535Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:19:41.535Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-22T01:19:41.545Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 2 solicitudes encontradas
2025-11-22T01:24:05.689Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-22T01:24:05.709Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:24:05.710Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c8257ea2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:24:05.711Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-22T01:24:05.713Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:24:05.715Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:24:05.716Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-22T01:24:05.726Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 2 solicitudes encontradas
2025-11-22T01:31:41.346Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T01:31:41.379Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:31:41.380Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a434cc55, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:31:41.381Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T01:31:41.383Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:31:41.384Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:31:41.384Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T01:31:41.423Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 200 - Solicitud encontrada
2025-11-22T01:41:05.406Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T01:41:05.426Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:41:05.427Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@382c69de, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:41:05.427Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T01:41:05.428Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:41:05.428Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:41:05.429Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T01:41:05.455Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 200 - Solicitud encontrada
2025-11-22T01:46:01.025Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T01:46:01.027Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:46:01.028Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@382c69de, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:46:01.028Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T01:46:01.030Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:46:01.031Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:46:01.031Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T01:46:01.072Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 200 - Solicitud encontrada
2025-11-22T01:46:19.514Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T01:46:19.532Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:46:19.533Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5c1307e2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:46:19.533Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T01:46:19.534Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:46:19.535Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:46:19.535Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T01:46:19.539Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 200 - Solicitud encontrada
2025-11-22T01:50:55.543Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T01:50:55.547Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T01:50:55.548Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@17f3e15a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T01:50:55.549Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T01:50:55.552Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:50:55.554Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T01:50:55.556Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T01:50:55.566Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 200 - Solicitud encontrada
2025-11-22T02:07:03.712Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/2/ruta?rutaId=1
2025-11-22T02:07:04.544Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:07:04.564Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a50a2b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:07:04.624Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/2/ruta?rutaId=1
2025-11-22T02:07:05.472Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:07:05.576Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:07:05.579Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/2/ruta - Asociando rutaId: 1
2025-11-22T02:07:05.702Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Seteando rutaId 1 para solicitud 2
2025-11-22T02:07:06.833Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Solicitud ID: 2 actualizada con rutaId: 1
2025-11-22T02:07:10.331Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503
2025-11-22T02:07:10.334Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk_solicitudes_ruta"
  Detail: Key (ruta_id)=(1) is not present in table "rutas".
2025-11-22T02:07:10.702Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/2/ruta - Error: could not execute statement [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk_solicitudes_ruta"
  Detail: Key (ruta_id)=(1) is not present in table "rutas".] [update solicitudes set cliente_id=?,contenedor_id=?,costo_estimado=?,costo_final=?,destino_lat=?,destino_long=?,direccion_destino=?,direccion_origen=?,estado_solicitud_id=?,fecha_modificacion=?,origen_lat=?,origen_long=?,ruta_id=?,tarifa_id=?,tiempo_estimado=?,tiempo_real=? where id_solicitud=?]; SQL [update solicitudes set cliente_id=?,contenedor_id=?,costo_estimado=?,costo_final=?,destino_lat=?,destino_long=?,direccion_destino=?,direccion_origen=?,estado_solicitud_id=?,fecha_modificacion=?,origen_lat=?,origen_long=?,ruta_id=?,tarifa_id=?,tiempo_estimado=?,tiempo_real=? where id_solicitud=?]; constraint [fk_solicitudes_ruta]
2025-11-22T02:07:32.665Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-22T02:07:32.671Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:07:32.672Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a50a2b0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:07:32.674Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-22T02:07:32.683Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:07:32.683Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:07:32.684Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-22T02:07:32.977Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 2 solicitudes encontradas
2025-11-22T02:17:34.218Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T02:17:34.238Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:17:34.239Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8374d909, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:17:34.240Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T02:17:34.243Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:17:34.245Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:17:34.247Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T02:17:34.256Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 200 - Solicitud encontrada
2025-11-22T02:21:20.313Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T02:21:20.316Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:21:20.317Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8374d909, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:21:20.317Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T02:21:20.356Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T02:21:22.045Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Córdoba 1500, CABA, Buenos Aires': lat=-34.5994611, lon=-58.3880387
2025-11-22T02:21:22.046Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5994611, lon=-58.3880387
2025-11-22T02:21:24.210Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. San Martín 2500, Río Gallegos': lat=-51.6472855, lon=-69.2364404
2025-11-22T02:21:24.210Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-51.6472855, lon=-69.2364404
2025-11-22T02:21:24.237Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-22T02:21:24.259Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 4 para la solicitud
2025-11-22T02:21:24.269Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 3
2025-11-22T02:21:24.270Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 3
2025-11-22T02:21:34.923Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/3
2025-11-22T02:21:34.927Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:21:34.928Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8374d909, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:21:34.928Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/3
2025-11-22T02:21:34.931Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:21:34.932Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:21:34.932Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/3 - Buscando solicitud por ID
2025-11-22T02:21:34.938Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/3 - Respuesta: 200 - Solicitud encontrada
2025-11-22T02:21:44.735Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/3/ruta?rutaId=2
2025-11-22T02:21:44.738Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:21:44.738Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8374d909, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:21:44.739Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/3/ruta?rutaId=2
2025-11-22T02:21:44.740Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:21:44.741Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:21:44.742Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/3/ruta - Asociando rutaId: 2
2025-11-22T02:21:44.743Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Seteando rutaId 2 para solicitud 3
2025-11-22T02:21:44.748Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Solicitud ID: 3 actualizada con rutaId: 2
2025-11-22T02:21:52.424Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-22T02:21:52.430Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:21:52.431Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8374d909, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:21:52.431Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-22T02:21:52.432Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:21:52.434Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:21:52.435Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-22T02:21:52.444Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 3 solicitudes encontradas
2025-11-22T02:26:11.234Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/3
2025-11-22T02:26:11.257Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:26:11.258Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@ff710d04, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:26:11.260Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/3
2025-11-22T02:26:11.263Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:26:11.264Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:26:11.265Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/3 - Buscando solicitud por ID
2025-11-22T02:26:11.278Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/3 - Respuesta: 200 - Solicitud encontrada
2025-11-22T02:28:09.813Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/2
2025-11-22T02:28:09.815Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:28:09.816Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@ff710d04, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:28:09.817Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/2
2025-11-22T02:28:09.818Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:28:09.818Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:28:09.819Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Buscando solicitud por ID
2025-11-22T02:28:09.824Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/2 - Respuesta: 200 - Solicitud encontrada
2025-11-22T02:46:15.847Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/3
2025-11-22T02:46:15.866Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:46:15.871Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@86d280a7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:46:15.871Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/3
2025-11-22T02:46:15.873Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:46:15.873Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T02:46:15.874Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/3 - Buscando solicitud por ID
2025-11-22T02:46:15.880Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/3 - Respuesta: 200 - Solicitud encontrada
2025-11-22T02:46:15.892Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/4
2025-11-22T02:46:15.893Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T02:46:15.894Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@86d280a7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T02:46:15.894Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/4
2025-11-22T02:46:16.057Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-22T02:46:16.059Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-22T02:46:16.068Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Buscando contenedor por ID
2025-11-22T02:46:16.224Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Respuesta: 200 - Contenedor encontrado
2025-11-22T03:03:28.506Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-22T03:03:28.576Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T03:03:28.581Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f46cd758, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T03:03:28.582Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-22T03:03:28.627Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T03:03:28.629Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T03:03:28.629Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-22T03:03:28.917Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 3 solicitudes encontradas
2025-11-22T03:03:38.351Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T03:03:38.356Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T03:03:38.356Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f46cd758, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T03:03:38.357Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T03:03:38.458Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T03:03:41.451Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Córdoba 1500, CABA, Buenos Aires': lat=-34.5994611, lon=-58.3880387
2025-11-22T03:03:41.451Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5994611, lon=-58.3880387
2025-11-22T03:03:42.634Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. San Martín 2500, Río Gallegos': lat=-51.6456332, lon=-69.235224
2025-11-22T03:03:42.637Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-51.6456332, lon=-69.235224
2025-11-22T03:03:42.721Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-22T03:03:42.829Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 5 para la solicitud
2025-11-22T03:03:42.858Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 4
2025-11-22T03:03:42.859Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 4
2025-11-22T03:48:39.825Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T03:48:40.677Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T03:48:40.706Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@85d603d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-22T03:48:40.734Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T03:48:41.336Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T03:48:45.410Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 567, CABA': lat=-34.5765392, lon=-58.4314883
2025-11-22T03:48:45.417Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5765392, lon=-58.4314883
2025-11-22T03:48:46.558Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 123, CABA': lat=-34.6028098, lon=-58.3693688
2025-11-22T03:48:46.561Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.6028098, lon=-58.3693688
2025-11-22T03:48:47.148Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-22T03:48:47.304Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 6 para la solicitud
2025-11-22T03:48:47.377Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 5
2025-11-22T03:48:47.379Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 5
2025-11-22T19:49:46.813Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-22T19:49:46.827Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-22T19:49:50.699Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-22T19:49:50.967Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 230 ms. Found 5 JPA repository interfaces.
2025-11-22T19:49:54.021Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-22T19:49:54.122Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-22T19:49:54.123Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-22T19:49:54.236Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-22T19:49:54.238Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7232 ms
2025-11-22T19:49:57.895Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-22T19:49:58.007Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-22T19:49:58.629Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9880a15
2025-11-22T19:49:58.635Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-22T19:49:58.746Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-22T19:50:04.195Z  WARN 1 --- [ms-solicitudes] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:583) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:523) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:455) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:276) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:119) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(Unknown Source) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at com.backend.tpi.ms_solicitudes.MsSolicitudesApplication.main(MsSolicitudesApplication.java:10) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312) ~[postgresql-42.7.4.jar!/:42.7.4]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar!/:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	... 41 common frames omitted

2025-11-22T19:50:04.210Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T19:50:07.111Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-22T19:50:07.209Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-22T19:50:08.645Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-22T19:50:09.402Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-22T19:50:09.423Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 25.864 seconds (process running for 27.49)
2025-11-22T19:50:55.490Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-22T19:50:55.516Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T19:50:55.679Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T19:50:55.681Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@99fbece7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.2, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T19:50:55.685Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T19:50:55.904Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.create(com.backend.tpi.ms_solicitudes.dtos.CreateSolicitudDTO); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T19:50:55.918Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.create(com.backend.tpi.ms_solicitudes.dtos.CreateSolicitudDTO); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T19:50:55.918Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T19:50:58.132Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Origén 123': lat=-34.5696714, lon=-70.9958553
2025-11-22T19:50:58.135Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5696714, lon=-70.9958553
2025-11-22T19:50:59.168Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Calle Destino 456': lat=36.1325696, lon=-5.4615595
2025-11-22T19:50:59.169Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=36.1325696, lon=-5.4615595
2025-11-22T19:50:59.323Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 24
2025-11-22T19:50:59.324Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 24
2025-11-22T19:50:59.525Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/24
2025-11-22T19:50:59.537Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T19:50:59.538Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@99fbece7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.2, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T19:50:59.541Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/24
2025-11-22T19:50:59.548Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T19:50:59.550Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T19:50:59.551Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/24 - Buscando solicitud por ID
2025-11-22T19:50:59.586Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : No se pudo validar cliente por email tester@example.com: Cliente no encontrado con email: tester@example.com
2025-11-22T19:51:54.413Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T19:51:54.418Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T19:51:54.419Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e735b074, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.2, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T19:51:54.420Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T19:51:54.424Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.create(com.backend.tpi.ms_solicitudes.dtos.CreateSolicitudDTO); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T19:51:54.425Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.create(com.backend.tpi.ms_solicitudes.dtos.CreateSolicitudDTO); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T19:51:54.425Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T19:51:55.636Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Origén 123': lat=-34.5696714, lon=-70.9958553
2025-11-22T19:51:55.637Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5696714, lon=-70.9958553
2025-11-22T19:51:57.990Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Calle Destino 456': lat=36.1325696, lon=-5.4615595
2025-11-22T19:51:57.991Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=36.1325696, lon=-5.4615595
2025-11-22T19:51:58.011Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 25
2025-11-22T19:51:58.012Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 25
2025-11-22T19:51:58.041Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/25
2025-11-22T19:51:58.045Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T19:51:58.046Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e735b074, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.2, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T19:51:58.047Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/25
2025-11-22T19:51:58.049Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T19:51:58.050Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T19:51:58.050Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/25 - Buscando solicitud por ID
2025-11-22T19:51:58.061Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : No se pudo validar cliente por email tester@example.com: Cliente no encontrado con email: tester@example.com
2025-11-22T20:01:25.401Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T20:01:25.441Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:01:25.443Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7e6556d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.2, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:01:25.445Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T20:01:25.455Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.create(com.backend.tpi.ms_solicitudes.dtos.CreateSolicitudDTO); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:01:25.457Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.create(com.backend.tpi.ms_solicitudes.dtos.CreateSolicitudDTO); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:01:25.458Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T20:01:28.047Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Origén 123': lat=-34.5791023, lon=-71.0004914
2025-11-22T20:01:28.051Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5791023, lon=-71.0004914
2025-11-22T20:01:29.274Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Calle Destino 456': lat=36.1325696, lon=-5.4615595
2025-11-22T20:01:29.277Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=36.1325696, lon=-5.4615595
2025-11-22T20:01:29.308Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 26
2025-11-22T20:01:29.310Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 26
2025-11-22T20:01:29.347Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/26
2025-11-22T20:01:29.353Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:01:29.356Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7e6556d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.2, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:01:29.360Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/26
2025-11-22T20:01:29.364Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:01:29.365Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:01:29.367Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26 - Buscando solicitud por ID
2025-11-22T20:01:29.382Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : No se pudo validar cliente por email tester@example.com: Cliente no encontrado con email: tester@example.com
2025-11-22T20:08:27.508Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T20:08:27.516Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-22T20:08:27.526Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-22T20:08:35.185Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-22T20:08:35.197Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-22T20:08:39.602Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-22T20:08:39.774Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149 ms. Found 5 JPA repository interfaces.
2025-11-22T20:08:41.833Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-22T20:08:41.912Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-22T20:08:41.916Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-22T20:08:42.117Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-22T20:08:42.128Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6816 ms
2025-11-22T20:08:44.571Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-22T20:08:44.702Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-22T20:08:45.430Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2fd4312a
2025-11-22T20:08:45.445Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-22T20:08:45.561Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-22T20:08:48.128Z  WARN 1 --- [ms-solicitudes] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:583) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:523) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:455) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:276) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:119) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(Unknown Source) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at com.backend.tpi.ms_solicitudes.MsSolicitudesApplication.main(MsSolicitudesApplication.java:10) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312) ~[postgresql-42.7.4.jar!/:42.7.4]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar!/:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	... 41 common frames omitted

2025-11-22T20:08:48.210Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T20:08:49.995Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-22T20:08:50.030Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-22T20:08:50.884Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-22T20:08:52.211Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-22T20:08:52.246Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 18.829 seconds (process running for 20.245)
2025-11-22T20:09:37.716Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-22T20:09:37.747Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T20:09:37.953Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:09:37.955Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a787bd62, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:09:37.963Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T20:09:38.309Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T20:09:40.471Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Origén 123': lat=-34.5766066, lon=-71.0061858
2025-11-22T20:09:40.474Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5766066, lon=-71.0061858
2025-11-22T20:09:41.429Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Calle Destino 456': lat=36.1325696, lon=-5.4615595
2025-11-22T20:09:41.430Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=36.1325696, lon=-5.4615595
2025-11-22T20:09:41.486Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.ClienteService          : Guardando cliente: Test Cliente
2025-11-22T20:09:41.551Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 10
2025-11-22T20:09:41.571Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 2 para la solicitud
2025-11-22T20:09:41.578Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-22T20:09:41.588Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 11 - Estado: PENDIENTE
2025-11-22T20:09:41.589Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 11
2025-11-22T20:09:41.685Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/11
2025-11-22T20:09:41.695Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:09:41.696Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a787bd62, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:09:41.697Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/11
2025-11-22T20:09:41.702Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:41.714Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:41.715Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/11 - Buscando solicitud por ID
2025-11-22T20:09:41.733Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/11 - Respuesta: 200 - Solicitud encontrada
2025-11-22T20:09:41.765Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/11/programar?costoEstimado=1500&tiempoEstimado=8
2025-11-22T20:09:41.771Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:09:41.774Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a787bd62, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:09:41.775Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/11/programar?costoEstimado=1500&tiempoEstimado=8
2025-11-22T20:09:41.784Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.programar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:41.787Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.programar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:41.788Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/11/programar - Programando solicitud - costoEstimado: 1500, tiempoEstimado: 8
2025-11-22T20:09:41.792Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Programando solicitud ID: 11 con costo: 1500 y tiempo: 8
2025-11-22T20:09:41.812Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Solicitud ID: 11 programada exitosamente (costoEstimado=1500, tiempoEstimado=8, estado=PENDIENTE)
2025-11-22T20:09:41.830Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/11/programar - Respuesta: 200 - Solicitud programada
2025-11-22T20:09:41.859Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/11/estado?nuevoEstado=EN_TRANSITO
2025-11-22T20:09:41.863Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:09:41.865Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a787bd62, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:09:41.866Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/11/estado?nuevoEstado=EN_TRANSITO
2025-11-22T20:09:41.879Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:41.881Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:41.882Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/11/estado - Cambiando estado a: EN_TRANSITO
2025-11-22T20:09:41.883Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 11 a EN_TRANSITO
2025-11-22T20:09:41.898Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/11/estado - Respuesta: 200 - Estado cambiado
2025-11-22T20:09:41.929Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/11/estado?nuevoEstado=COMPLETADA
2025-11-22T20:09:41.935Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:09:41.936Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a787bd62, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:09:41.938Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/11/estado?nuevoEstado=COMPLETADA
2025-11-22T20:09:41.942Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:41.943Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:41.944Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/11/estado - Cambiando estado a: COMPLETADA
2025-11-22T20:09:41.946Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 11 a COMPLETADA
2025-11-22T20:09:41.961Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/11/estado - Respuesta: 200 - Estado cambiado
2025-11-22T20:09:41.993Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/11/finalizar?costoFinal=1600&tiempoReal=9
2025-11-22T20:09:41.998Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:09:41.999Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a787bd62, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:09:42.000Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/11/finalizar?costoFinal=1600&tiempoReal=9
2025-11-22T20:09:42.003Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.finalizar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:42.005Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.finalizar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:42.006Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/11/finalizar - Persistiendo costoFinal: 1600, tiempoReal: 9
2025-11-22T20:09:42.008Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Finalizando solicitud ID: 11 con costoFinal: 1600, tiempoReal: 9
2025-11-22T20:09:42.015Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Solicitud ID: 11 actualizada con costo final y tiempo real
2025-11-22T20:09:42.021Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/11/finalizar - Respuesta: 200 - Solicitud finalizada
2025-11-22T20:09:42.055Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/11
2025-11-22T20:09:42.060Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:09:42.061Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a787bd62, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:09:42.062Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/11
2025-11-22T20:09:42.064Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:42.065Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:09:42.065Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/11 - Buscando solicitud por ID
2025-11-22T20:09:42.073Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/11 - Respuesta: 200 - Solicitud encontrada
2025-11-22T20:12:25.024Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T20:12:25.030Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-22T20:12:25.042Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-22T20:12:28.003Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-22T20:12:28.007Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-22T20:12:29.378Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-22T20:12:29.475Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 5 JPA repository interfaces.
2025-11-22T20:12:32.390Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-22T20:12:32.424Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-22T20:12:32.425Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-22T20:12:32.494Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-22T20:12:32.498Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4429 ms
2025-11-22T20:12:33.340Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-22T20:12:33.396Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-22T20:12:33.738Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@20231384
2025-11-22T20:12:33.742Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-22T20:12:33.778Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-22T20:12:35.203Z  WARN 1 --- [ms-solicitudes] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:583) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:523) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:455) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:276) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:119) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(Unknown Source) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at com.backend.tpi.ms_solicitudes.MsSolicitudesApplication.main(MsSolicitudesApplication.java:10) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312) ~[postgresql-42.7.4.jar!/:42.7.4]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar!/:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	... 41 common frames omitted

2025-11-22T20:12:35.211Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T20:12:36.278Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-22T20:12:36.308Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-22T20:12:36.756Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-22T20:12:37.225Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-22T20:12:37.248Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 10.189 seconds (process running for 11.056)
2025-11-22T20:12:42.782Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-22T20:12:42.804Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T20:12:42.960Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:12:42.964Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9c170ed3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:12:42.970Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T20:12:43.184Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T20:12:44.344Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Origén 123': lat=-34.5766066, lon=-71.0061858
2025-11-22T20:12:44.345Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5766066, lon=-71.0061858
2025-11-22T20:12:45.348Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Calle Destino 456': lat=36.1325696, lon=-5.4615595
2025-11-22T20:12:45.349Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=36.1325696, lon=-5.4615595
2025-11-22T20:12:45.364Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 10
2025-11-22T20:12:47.265Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 3 para la solicitud
2025-11-22T20:12:47.273Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-22T20:12:47.288Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 12 - Estado: PENDIENTE
2025-11-22T20:12:47.289Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 12
2025-11-22T20:12:47.361Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/12
2025-11-22T20:12:47.371Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:12:47.374Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9c170ed3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:12:47.376Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/12
2025-11-22T20:12:47.381Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.396Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.398Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/12 - Buscando solicitud por ID
2025-11-22T20:12:47.420Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/12 - Respuesta: 200 - Solicitud encontrada
2025-11-22T20:12:47.447Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/12/programar?costoEstimado=1500&tiempoEstimado=8
2025-11-22T20:12:47.450Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:12:47.451Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9c170ed3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:12:47.454Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/12/programar?costoEstimado=1500&tiempoEstimado=8
2025-11-22T20:12:47.458Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.programar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.460Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.programar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.461Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/12/programar - Programando solicitud - costoEstimado: 1500, tiempoEstimado: 8
2025-11-22T20:12:47.462Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Programando solicitud ID: 12 con costo: 1500 y tiempo: 8
2025-11-22T20:12:47.472Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Solicitud ID: 12 programada exitosamente (costoEstimado=1500, tiempoEstimado=8, estado=PROGRAMADA)
2025-11-22T20:12:47.485Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/12/programar - Respuesta: 200 - Solicitud programada
2025-11-22T20:12:47.507Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/12/estado?nuevoEstado=EN_TRANSITO
2025-11-22T20:12:47.511Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:12:47.512Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9c170ed3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:12:47.513Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/12/estado?nuevoEstado=EN_TRANSITO
2025-11-22T20:12:47.524Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.526Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.526Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/12/estado - Cambiando estado a: EN_TRANSITO
2025-11-22T20:12:47.527Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 12 a EN_TRANSITO
2025-11-22T20:12:47.535Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-22T20:12:47.541Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/12/estado - Respuesta: 200 - Estado cambiado
2025-11-22T20:12:47.560Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/12/estado?nuevoEstado=COMPLETADA
2025-11-22T20:12:47.565Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:12:47.566Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9c170ed3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:12:47.567Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/12/estado?nuevoEstado=COMPLETADA
2025-11-22T20:12:47.569Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.570Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.571Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/12/estado - Cambiando estado a: COMPLETADA
2025-11-22T20:12:47.572Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 12 a COMPLETADA
2025-11-22T20:12:47.582Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Estado cambiado a COMPLETADA
2025-11-22T20:12:47.588Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/12/estado - Respuesta: 200 - Estado cambiado
2025-11-22T20:12:47.606Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/12/finalizar?costoFinal=1600&tiempoReal=9
2025-11-22T20:12:47.610Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:12:47.611Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9c170ed3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:12:47.612Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/12/finalizar?costoFinal=1600&tiempoReal=9
2025-11-22T20:12:47.614Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.finalizar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.616Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.finalizar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.617Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/12/finalizar - Persistiendo costoFinal: 1600, tiempoReal: 9
2025-11-22T20:12:47.618Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Finalizando solicitud ID: 12 con costoFinal: 1600, tiempoReal: 9
2025-11-22T20:12:47.623Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Solicitud ID: 12 actualizada con costo final y tiempo real
2025-11-22T20:12:47.630Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/12/finalizar - Respuesta: 200 - Solicitud finalizada
2025-11-22T20:12:47.654Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/12
2025-11-22T20:12:47.659Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:12:47.660Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9c170ed3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:12:47.661Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/12
2025-11-22T20:12:47.662Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.664Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:12:47.665Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/12 - Buscando solicitud por ID
2025-11-22T20:12:47.671Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/12 - Respuesta: 200 - Solicitud encontrada
2025-11-22T20:33:47.290Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T20:33:47.307Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-22T20:33:47.322Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-22T20:33:53.103Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-22T20:33:53.113Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-22T20:33:55.946Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-22T20:33:56.120Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 153 ms. Found 5 JPA repository interfaces.
2025-11-22T20:33:57.642Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-22T20:33:57.681Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-22T20:33:57.684Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-22T20:33:57.758Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-22T20:33:57.760Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4560 ms
2025-11-22T20:33:59.527Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-22T20:34:01.444Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-22T20:34:02.079Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3cb04dd
2025-11-22T20:34:02.085Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-22T20:34:02.218Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-22T20:34:06.962Z  WARN 1 --- [ms-solicitudes] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:583) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:523) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:455) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:276) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:119) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(Unknown Source) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at com.backend.tpi.ms_solicitudes.MsSolicitudesApplication.main(MsSolicitudesApplication.java:10) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312) ~[postgresql-42.7.4.jar!/:42.7.4]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar!/:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	... 41 common frames omitted

2025-11-22T20:34:06.972Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T20:34:08.530Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-22T20:34:08.600Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-22T20:34:10.043Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-22T20:34:10.838Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-22T20:34:10.857Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 18.903 seconds (process running for 20.59)
2025-11-22T20:34:21.274Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-22T20:34:21.300Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T20:34:21.480Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:34:21.482Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@324c3876, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:34:21.490Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T20:34:21.726Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T20:34:27.754Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Origén 123': lat=-34.5696714, lon=-70.9958553
2025-11-22T20:34:27.755Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5696714, lon=-70.9958553
2025-11-22T20:34:28.714Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Calle Destino 456': lat=36.1325696, lon=-5.4615595
2025-11-22T20:34:28.715Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=36.1325696, lon=-5.4615595
2025-11-22T20:34:28.728Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 10
2025-11-22T20:34:28.786Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 4 para la solicitud
2025-11-22T20:34:28.790Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-22T20:34:28.801Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 27 - Estado: PENDIENTE
2025-11-22T20:34:28.802Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 27
2025-11-22T20:34:28.905Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/27
2025-11-22T20:34:28.913Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:34:28.914Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@324c3876, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:34:28.915Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/27
2025-11-22T20:34:28.921Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:28.935Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:28.936Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/27 - Buscando solicitud por ID
2025-11-22T20:34:28.958Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/27 - Respuesta: 200 - Solicitud encontrada
2025-11-22T20:34:29.826Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/27/ruta?rutaId=16
2025-11-22T20:34:29.829Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:34:29.832Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@324c3876, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.4, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:34:29.833Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/27/ruta?rutaId=16
2025-11-22T20:34:29.837Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:29.839Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:29.840Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/27/ruta - Asociando rutaId: 16
2025-11-22T20:34:29.843Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Seteando rutaId 16 para solicitud 27
2025-11-22T20:34:29.855Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-22T20:34:29.859Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Solicitud ID: 27 actualizada con rutaId: 16
2025-11-22T20:34:29.958Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/27/ruta?rutaId=16
2025-11-22T20:34:29.961Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:34:29.963Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@324c3876, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:34:29.964Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/27/ruta?rutaId=16
2025-11-22T20:34:29.966Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:29.967Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:29.968Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/27/ruta - Asociando rutaId: 16
2025-11-22T20:34:29.969Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Seteando rutaId 16 para solicitud 27
2025-11-22T20:34:29.975Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-22T20:34:29.976Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Solicitud ID: 27 actualizada con rutaId: 16
2025-11-22T20:34:29.997Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/27/estado?nuevoEstado=EN_TRANSITO
2025-11-22T20:34:30.000Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:34:30.001Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@324c3876, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:34:30.002Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/27/estado?nuevoEstado=EN_TRANSITO
2025-11-22T20:34:30.016Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:30.018Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:30.019Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/27/estado - Cambiando estado a: EN_TRANSITO
2025-11-22T20:34:30.020Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 27 a EN_TRANSITO
2025-11-22T20:34:30.034Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-22T20:34:30.039Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/27/estado - Respuesta: 200 - Estado cambiado
2025-11-22T20:34:30.067Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/27/estado?nuevoEstado=COMPLETADA
2025-11-22T20:34:30.070Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:34:30.072Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@324c3876, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:34:30.073Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/27/estado?nuevoEstado=COMPLETADA
2025-11-22T20:34:30.076Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:30.078Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:30.080Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/27/estado - Cambiando estado a: COMPLETADA
2025-11-22T20:34:30.082Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 27 a COMPLETADA
2025-11-22T20:34:30.095Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Estado cambiado a COMPLETADA
2025-11-22T20:34:30.106Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/27/estado - Respuesta: 200 - Estado cambiado
2025-11-22T20:34:30.127Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/27/finalizar?costoFinal=1600&tiempoReal=9
2025-11-22T20:34:30.130Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:34:30.131Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@324c3876, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:34:30.132Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/27/finalizar?costoFinal=1600&tiempoReal=9
2025-11-22T20:34:30.134Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.finalizar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:30.136Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.finalizar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:30.137Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/27/finalizar - Persistiendo costoFinal: 1600, tiempoReal: 9
2025-11-22T20:34:30.138Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Finalizando solicitud ID: 27 con costoFinal: 1600, tiempoReal: 9
2025-11-22T20:34:30.145Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Solicitud ID: 27 actualizada con costo final y tiempo real
2025-11-22T20:34:30.150Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/27/finalizar - Respuesta: 200 - Solicitud finalizada
2025-11-22T20:34:30.170Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/27
2025-11-22T20:34:30.173Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:34:30.174Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@324c3876, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:34:30.175Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/27
2025-11-22T20:34:30.177Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:30.178Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:34:30.179Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/27 - Buscando solicitud por ID
2025-11-22T20:34:30.184Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/27 - Respuesta: 200 - Solicitud encontrada
2025-11-22T20:45:58.313Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T20:45:58.319Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-22T20:45:58.327Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-22T20:46:00.911Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-22T20:46:00.916Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-22T20:46:01.978Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-22T20:46:02.068Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82 ms. Found 5 JPA repository interfaces.
2025-11-22T20:46:04.638Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-22T20:46:04.658Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-22T20:46:04.659Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-22T20:46:04.746Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-22T20:46:04.748Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3772 ms
2025-11-22T20:46:05.458Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-22T20:46:05.493Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-22T20:46:05.740Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@b34c7c9
2025-11-22T20:46:05.745Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-22T20:46:05.802Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-22T20:46:07.479Z  WARN 1 --- [ms-solicitudes] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:583) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:523) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:455) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:276) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:119) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(Unknown Source) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at com.backend.tpi.ms_solicitudes.MsSolicitudesApplication.main(MsSolicitudesApplication.java:10) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312) ~[postgresql-42.7.4.jar!/:42.7.4]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar!/:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	... 41 common frames omitted

2025-11-22T20:46:07.486Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T20:46:08.787Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-22T20:46:08.818Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-22T20:46:09.373Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-22T20:46:09.805Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-22T20:46:09.817Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 9.738 seconds (process running for 10.579)
2025-11-22T20:48:43.039Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T20:48:43.048Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-22T20:48:43.057Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-22T20:48:45.238Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-22T20:48:45.245Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-22T20:48:46.392Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-22T20:48:46.461Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 5 JPA repository interfaces.
2025-11-22T20:48:47.210Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-22T20:48:47.233Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-22T20:48:47.234Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-22T20:48:47.278Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-22T20:48:47.280Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1969 ms
2025-11-22T20:48:47.868Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-22T20:48:47.898Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-22T20:48:48.115Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2beee3e8
2025-11-22T20:48:48.117Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-22T20:48:48.144Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-22T20:48:49.151Z  WARN 1 --- [ms-solicitudes] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists solicitudes add constraint FK279xcsj349cobksy7l8udimeg foreign key (contenedor_id) references contenedores" via JDBC [ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:583) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:523) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:455) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:276) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:119) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at java.base/java.util.HashMap.forEach(Unknown Source) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at com.backend.tpi.ms_solicitudes.MsSolicitudesApplication.main(MsSolicitudesApplication.java:10) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "solicitudes" violates foreign key constraint "fk279xcsj349cobksy7l8udimeg"
  Detail: Key (contenedor_id)=(7) is not present in table "contenedores".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317) ~[postgresql-42.7.4.jar!/:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312) ~[postgresql-42.7.4.jar!/:42.7.4]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar!/:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.5.3.Final.jar!/:6.5.3.Final]
	... 41 common frames omitted

2025-11-22T20:48:49.158Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-22T20:48:50.111Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-22T20:48:50.952Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-22T20:48:51.422Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-22T20:48:51.771Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-22T20:48:51.781Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 7.164 seconds (process running for 7.862)
2025-11-22T20:49:08.278Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-22T20:49:08.318Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-22T20:49:08.514Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:49:08.516Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b4c4299e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:49:08.521Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-22T20:49:08.791Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-22T20:49:11.250Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Origén 123': lat=-34.5766066, lon=-71.0061858
2025-11-22T20:49:11.253Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5766066, lon=-71.0061858
2025-11-22T20:49:12.149Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Calle Destino 456': lat=36.1325696, lon=-5.4615595
2025-11-22T20:49:12.151Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=36.1325696, lon=-5.4615595
2025-11-22T20:49:12.167Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 10
2025-11-22T20:49:12.215Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 5 para la solicitud
2025-11-22T20:49:12.220Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-22T20:49:12.229Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 28 - Estado: PENDIENTE
2025-11-22T20:49:12.231Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 28
2025-11-22T20:49:12.293Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28
2025-11-22T20:49:12.300Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:49:12.303Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b4c4299e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:49:12.308Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28
2025-11-22T20:49:12.314Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.339Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.341Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Buscando solicitud por ID
2025-11-22T20:49:12.367Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Respuesta: 200 - Solicitud encontrada
2025-11-22T20:49:12.487Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/28/ruta?rutaId=17
2025-11-22T20:49:12.491Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:49:12.493Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b4c4299e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.4, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:49:12.494Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/28/ruta?rutaId=17
2025-11-22T20:49:12.499Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.501Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.502Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/28/ruta - Asociando rutaId: 17
2025-11-22T20:49:12.504Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Seteando rutaId 17 para solicitud 28
2025-11-22T20:49:12.511Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-22T20:49:12.514Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Solicitud ID: 28 actualizada con rutaId: 17
2025-11-22T20:49:12.558Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/28/ruta?rutaId=17
2025-11-22T20:49:12.563Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:49:12.564Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b4c4299e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:49:12.566Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/28/ruta?rutaId=17
2025-11-22T20:49:12.570Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.572Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.573Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/28/ruta - Asociando rutaId: 17
2025-11-22T20:49:12.574Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Seteando rutaId 17 para solicitud 28
2025-11-22T20:49:12.582Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-22T20:49:12.584Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Solicitud ID: 28 actualizada con rutaId: 17
2025-11-22T20:49:12.611Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/28/estado?nuevoEstado=EN_TRANSITO
2025-11-22T20:49:12.615Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:49:12.618Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b4c4299e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:49:12.620Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/28/estado?nuevoEstado=EN_TRANSITO
2025-11-22T20:49:12.630Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.631Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.632Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/28/estado - Cambiando estado a: EN_TRANSITO
2025-11-22T20:49:12.634Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 28 a EN_TRANSITO
2025-11-22T20:49:12.643Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-22T20:49:12.650Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/28/estado - Respuesta: 200 - Estado cambiado
2025-11-22T20:49:12.674Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/28/estado?nuevoEstado=COMPLETADA
2025-11-22T20:49:12.679Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:49:12.680Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b4c4299e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:49:12.682Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/28/estado?nuevoEstado=COMPLETADA
2025-11-22T20:49:12.686Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.688Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.689Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/28/estado - Cambiando estado a: COMPLETADA
2025-11-22T20:49:12.690Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 28 a COMPLETADA
2025-11-22T20:49:12.699Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Estado cambiado a COMPLETADA
2025-11-22T20:49:12.708Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/28/estado - Respuesta: 200 - Estado cambiado
2025-11-22T20:49:12.733Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/28/finalizar?costoFinal=1600&tiempoReal=9
2025-11-22T20:49:12.739Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:49:12.740Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b4c4299e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:49:12.742Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/28/finalizar?costoFinal=1600&tiempoReal=9
2025-11-22T20:49:12.745Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.finalizar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.747Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.finalizar(java.lang.Long,java.math.BigDecimal,java.math.BigDecimal); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.748Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/28/finalizar - Persistiendo costoFinal: 1600, tiempoReal: 9
2025-11-22T20:49:12.750Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Finalizando solicitud ID: 28 con costoFinal: 1600, tiempoReal: 9
2025-11-22T20:49:12.758Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Solicitud ID: 28 actualizada con costo final y tiempo real
2025-11-22T20:49:12.765Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/28/finalizar - Respuesta: 200 - Solicitud finalizada
2025-11-22T20:49:12.792Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28
2025-11-22T20:49:12.799Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-22T20:49:12.801Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b4c4299e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-22T20:49:12.804Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28
2025-11-22T20:49:12.807Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.808Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-22T20:49:12.811Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Buscando solicitud por ID
2025-11-22T20:49:12.818Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Respuesta: 200 - Solicitud encontrada
2025-11-23T11:43:34.151Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-23T11:43:34.165Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-23T11:43:37.771Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T11:43:38.118Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 288 ms. Found 5 JPA repository interfaces.
2025-11-23T11:43:41.047Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-23T11:43:41.120Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T11:43:41.122Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-23T11:43:41.263Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-23T11:43:41.267Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6909 ms
2025-11-23T11:43:44.071Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T11:43:44.222Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-23T11:43:45.297Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4cc4d454
2025-11-23T11:43:45.304Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-23T11:43:45.717Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T11:43:49.785Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T11:43:54.519Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T11:43:54.576Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-23T11:43:55.985Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-23T11:43:57.453Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-23T11:43:57.480Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 25.524 seconds (process running for 28.843)
2025-11-23T11:47:02.367Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-23T11:47:02.393Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-23T11:47:02.544Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T11:47:02.545Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d795db2a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-23T11:47:02.548Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-23T11:47:02.599Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:47:02.613Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:47:02.613Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-23T11:47:02.932Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 7 solicitudes encontradas
2025-11-23T11:47:40.391Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T11:47:40.397Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T11:47:40.398Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d795db2a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-23T11:47:40.399Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T11:47:40.578Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T11:47:43.238Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Córdoba 1500, CABA, Buenos Aires': lat=-34.5994611, lon=-58.3880387
2025-11-23T11:47:43.238Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5994611, lon=-58.3880387
2025-11-23T11:47:44.418Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. San Martín 2500, Río Gallegos': lat=-51.6456332, lon=-69.235224
2025-11-23T11:47:44.419Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-51.6456332, lon=-69.235224
2025-11-23T11:47:44.424Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T11:47:44.483Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 9 para la solicitud
2025-11-23T11:47:44.486Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T11:47:44.498Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 8 - Estado: PENDIENTE
2025-11-23T11:47:44.499Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 8
2025-11-23T11:48:00.574Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/clientes
2025-11-23T11:48:00.577Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T11:48:00.578Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d795db2a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-23T11:48:00.578Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/clientes
2025-11-23T11:48:00.580Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ClienteController.getAllClientes(java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.ClienteController]
2025-11-23T11:48:00.581Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ClienteController.getAllClientes(java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.ClienteController]
2025-11-23T11:48:00.582Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.ClienteController    : GET /api/v1/clientes - Listando todos los clientes
2025-11-23T11:48:00.585Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.ClienteController    : GET /api/v1/clientes - Respuesta: 200 - 2 clientes encontrados
2025-11-23T11:49:10.840Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/8
2025-11-23T11:49:10.843Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T11:49:10.843Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d795db2a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.5, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-23T11:49:10.844Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/8
2025-11-23T11:49:10.847Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:49:10.848Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:49:10.848Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/8 - Buscando solicitud por ID
2025-11-23T11:49:10.859Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/8 - Respuesta: 200 - Solicitud encontrada
2025-11-23T11:53:37.301Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/8/opciones/1/confirmar
2025-11-23T11:53:37.320Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T11:53:37.321Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@dfbb9891, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-23T11:53:37.322Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/8/opciones/1/confirmar
2025-11-23T11:53:37.324Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:53:37.326Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:53:37.326Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/8/opciones/1/confirmar - Confirmando opción por opcionId
2025-11-23T11:53:37.329Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 1 para solicitud 8
2025-11-23T11:53:37.387Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 1 para solicitud 8: 500 Internal Server Error: "{"timestamp":"2025-11-23T11:53:37.372+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/1"}"
2025-11-23T11:53:37.390Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 8 opción 1: 500 Internal Server Error: "{"timestamp":"2025-11-23T11:53:37.372+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/1"}"
2025-11-23T11:56:57.287Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/8
2025-11-23T11:56:57.291Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T11:56:57.292Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@dfbb9891, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.5, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-23T11:56:57.292Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/8
2025-11-23T11:56:57.294Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:56:57.295Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:56:57.295Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/8 - Buscando solicitud por ID
2025-11-23T11:56:57.299Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/8 - Respuesta: 200 - Solicitud encontrada
2025-11-23T11:57:09.501Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/8/ruta?rutaId=4
2025-11-23T11:57:09.503Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T11:57:09.504Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@dfbb9891, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.5, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-23T11:57:09.505Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/8/ruta?rutaId=4
2025-11-23T11:57:09.508Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:57:09.509Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:57:09.509Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/8/ruta - Asociando rutaId: 4
2025-11-23T11:57:09.510Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Seteando rutaId 4 para solicitud 8
2025-11-23T11:57:09.525Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T11:57:09.533Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Solicitud ID: 8 actualizada con rutaId: 4
2025-11-23T11:57:51.328Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-23T11:57:51.330Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T11:57:51.331Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@dfbb9891, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.19.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_ADMIN, ROLE_OPERADOR, ROLE_CLIENTE]]
2025-11-23T11:57:51.331Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-23T11:57:51.332Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:57:51.333Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T11:57:51.333Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-23T11:57:51.348Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 8 solicitudes encontradas
2025-11-23T12:10:01.238Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T12:10:01.310Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-23T12:10:01.343Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-23T17:11:35.450Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-23T17:11:35.455Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-23T17:11:36.996Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T17:11:37.100Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 89 ms. Found 5 JPA repository interfaces.
2025-11-23T17:11:38.099Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-23T17:11:38.135Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T17:11:38.136Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-23T17:11:38.212Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-23T17:11:38.214Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2679 ms
2025-11-23T17:11:39.481Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T17:11:39.541Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-23T17:11:39.936Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@73d91faf
2025-11-23T17:11:39.944Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-23T17:11:40.062Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T17:11:41.987Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T17:11:42.921Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T17:11:42.942Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-23T17:11:43.361Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-23T17:11:43.791Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-23T17:11:43.819Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 9.343 seconds (process running for 9.983)
2025-11-23T17:11:56.428Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-23T17:11:56.440Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T17:11:56.445Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T17:11:56.572Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T17:13:11.433Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T17:13:11.434Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T17:13:11.439Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T17:14:11.129Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T17:14:11.130Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T17:14:11.135Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Registrando nuevo cliente: juan.perez@example.com
2025-11-23T17:14:11.138Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.ClienteService          : Iniciando registro de cliente: juan.perez@example.com
2025-11-23T17:14:12.902Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.KeycloakService         : Usuario creado en Keycloak con ID: 4bc42ae1-ae42-48ee-bdcf-94106dcd0339
2025-11-23T17:14:12.983Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.KeycloakService         : Rol CLIENTE asignado al usuario 4bc42ae1-ae42-48ee-bdcf-94106dcd0339
2025-11-23T17:14:12.984Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.ClienteService          : Usuario creado en Keycloak con ID: 4bc42ae1-ae42-48ee-bdcf-94106dcd0339
2025-11-23T17:14:12.992Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.ClienteService          : Cliente guardado en BD con ID: 2
2025-11-23T17:14:12.997Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Respuesta: 201 - Cliente registrado con ID: 2
2025-11-23T17:14:13.010Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T17:14:18.304Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/13/estados-permitidos
2025-11-23T17:14:18.372Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:14:18.373Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:14:18.374Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/13/estados-permitidos
2025-11-23T17:14:18.379Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:14:18.386Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:14:18.387Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/13/estados-permitidos - Consultando transiciones permitidas
2025-11-23T17:14:18.400Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Consultando estados permitidos para solicitud ID: 13
2025-11-23T17:14:18.411Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : La solicitud ID: 13 no tiene estado actual asignado
2025-11-23T17:14:18.413Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/13/estados-permitidos - Respuesta: 200 - 0 estados permitidos
2025-11-23T17:14:26.950Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T17:14:26.955Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:14:26.956Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:14:26.956Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T17:14:26.967Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T17:14:28.912Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T17:14:28.916Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T17:14:29.964Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T17:14:29.965Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T17:14:29.970Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T17:14:29.979Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 2 para la solicitud
2025-11-23T17:14:29.981Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T17:14:29.989Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 14 - Estado: PENDIENTE
2025-11-23T17:14:29.989Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 14
2025-11-23T17:14:43.274Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/14/estados-permitidos
2025-11-23T17:14:43.276Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:14:43.276Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:14:43.278Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/14/estados-permitidos
2025-11-23T17:14:43.279Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:14:43.279Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:14:43.280Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/14/estados-permitidos - Consultando transiciones permitidas
2025-11-23T17:14:43.280Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Consultando estados permitidos para solicitud ID: 14
2025-11-23T17:14:43.283Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Solicitud ID: 14 en estado 'PENDIENTE' puede transicionar a: []
2025-11-23T17:14:43.284Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/14/estados-permitidos - Respuesta: 200 - 0 estados permitidos
2025-11-23T17:14:59.185Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores
2025-11-23T17:14:59.188Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:14:59.190Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:14:59.190Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores
2025-11-23T17:14:59.192Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getAllContenedores(); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T17:14:59.193Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getAllContenedores(); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T17:14:59.194Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores - Listando todos los contenedores
2025-11-23T17:14:59.202Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores - Respuesta: 200 - 2 contenedores encontrados
2025-11-23T17:16:25.779Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T17:16:25.781Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:16:25.782Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:16:25.783Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T17:16:25.785Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T17:16:27.179Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Rivadavia 2000, CABA, Argentina': lat=-34.6094911, lon=-58.3948003
2025-11-23T17:16:27.179Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.6094911, lon=-58.3948003
2025-11-23T17:16:28.232Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Belgrano 800, CABA, Argentina': lat=-34.6129755, lon=-58.3774935
2025-11-23T17:16:28.232Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.6129755, lon=-58.3774935
2025-11-23T17:16:28.239Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Contenedor existente ID 2 asociado a la solicitud
2025-11-23T17:16:28.252Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T17:16:28.259Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 15 - Estado: PENDIENTE
2025-11-23T17:16:28.262Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 15
2025-11-23T17:17:52.544Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/15/estados-permitidos
2025-11-23T17:17:52.546Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:17:52.546Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:17:52.546Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/15/estados-permitidos
2025-11-23T17:17:52.548Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:17:52.548Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:17:52.549Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15/estados-permitidos - Consultando transiciones permitidas
2025-11-23T17:17:52.549Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Consultando estados permitidos para solicitud ID: 15
2025-11-23T17:17:52.552Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Solicitud ID: 15 en estado 'PENDIENTE' puede transicionar a: []
2025-11-23T17:17:52.553Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15/estados-permitidos - Respuesta: 200 - 0 estados permitidos
2025-11-23T17:18:02.329Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/14/estados-permitidos
2025-11-23T17:18:02.332Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:18:02.333Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:18:02.333Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/14/estados-permitidos
2025-11-23T17:18:02.334Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:18:02.336Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:18:02.349Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/14/estados-permitidos - Consultando transiciones permitidas
2025-11-23T17:18:02.351Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Consultando estados permitidos para solicitud ID: 14
2025-11-23T17:18:02.353Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Solicitud ID: 14 en estado 'PENDIENTE' puede transicionar a: []
2025-11-23T17:18:02.354Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/14/estados-permitidos - Respuesta: 200 - 0 estados permitidos
2025-11-23T17:18:06.420Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/13/estados-permitidos
2025-11-23T17:18:06.422Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:18:06.422Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:18:06.423Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/13/estados-permitidos
2025-11-23T17:18:06.424Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:18:06.425Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:18:06.426Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/13/estados-permitidos - Consultando transiciones permitidas
2025-11-23T17:18:06.427Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Consultando estados permitidos para solicitud ID: 13
2025-11-23T17:18:06.429Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : La solicitud ID: 13 no tiene estado actual asignado
2025-11-23T17:18:06.430Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/13/estados-permitidos - Respuesta: 200 - 0 estados permitidos
2025-11-23T17:18:09.791Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/15/estados-permitidos
2025-11-23T17:18:09.793Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:18:09.794Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:18:09.794Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/15/estados-permitidos
2025-11-23T17:18:09.796Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:18:09.797Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:18:09.802Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15/estados-permitidos - Consultando transiciones permitidas
2025-11-23T17:18:09.804Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Consultando estados permitidos para solicitud ID: 15
2025-11-23T17:18:09.813Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Solicitud ID: 15 en estado 'PENDIENTE' puede transicionar a: []
2025-11-23T17:18:09.819Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15/estados-permitidos - Respuesta: 200 - 0 estados permitidos
2025-11-23T17:19:39.437Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/15/seguimiento
2025-11-23T17:19:39.457Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:19:39.457Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:19:39.458Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/15/seguimiento
2025-11-23T17:19:39.472Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:19:39.480Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:19:39.480Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15/seguimiento - Consultando seguimiento de solicitud
2025-11-23T17:20:07.105Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/2/seguimiento
2025-11-23T17:20:07.108Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:20:07.109Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@80760a09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:20:07.109Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/2/seguimiento
2025-11-23T17:20:07.111Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T17:20:07.113Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T17:20:07.119Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/2/seguimiento - Consultando seguimiento
2025-11-23T17:20:07.129Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/2/seguimiento - Respuesta: 200 - Seguimiento obtenido
2025-11-23T17:22:01.111Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/15
2025-11-23T17:22:01.113Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:22:01.114Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@312abaaf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:22:01.116Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/15
2025-11-23T17:22:01.118Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:22:01.120Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:22:01.122Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15 - Buscando solicitud por ID
2025-11-23T17:22:01.127Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15 - Respuesta: 200 - Solicitud encontrada
2025-11-23T17:22:15.902Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-23T17:22:15.903Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:22:15.904Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@312abaaf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:22:15.904Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-23T17:22:15.906Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:22:15.908Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:22:15.910Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-23T17:22:15.922Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 15 solicitudes encontradas
2025-11-23T17:22:43.763Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/15
2025-11-23T17:22:43.766Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:22:43.767Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@312abaaf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:22:43.768Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/15
2025-11-23T17:22:43.770Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:22:43.771Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:22:43.772Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15 - Buscando solicitud por ID
2025-11-23T17:22:43.777Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15 - Respuesta: 200 - Solicitud encontrada
2025-11-23T17:23:02.964Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/15
2025-11-23T17:23:02.966Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:23:02.967Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@312abaaf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:23:02.968Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/15
2025-11-23T17:23:02.972Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:23:02.973Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:23:02.973Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15 - Buscando solicitud por ID
2025-11-23T17:23:02.986Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/15 - Respuesta: 200 - Solicitud encontrada
2025-11-23T17:31:06.796Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T17:31:06.797Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T17:31:06.803Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Registrando nuevo cliente: juan.perez@example.com
2025-11-23T17:31:06.805Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.ClienteService          : Iniciando registro de cliente: juan.perez@example.com
2025-11-23T17:31:06.888Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Error: El username ya está en uso
2025-11-23T17:31:06.893Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T17:31:13.178Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T17:31:13.179Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T17:31:13.181Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Registrando nuevo cliente: juan.perez@example.com
2025-11-23T17:31:13.184Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.ClienteService          : Iniciando registro de cliente: juan.perez@example.com
2025-11-23T17:31:13.199Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Error: El username ya está en uso
2025-11-23T17:31:13.203Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T17:31:17.475Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T17:31:17.476Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T17:31:17.481Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Registrando nuevo cliente: asdf@example.com
2025-11-23T17:31:17.483Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.ClienteService          : Iniciando registro de cliente: asdf@example.com
2025-11-23T17:31:17.512Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Error: El username ya está en uso
2025-11-23T17:31:17.514Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T17:31:21.703Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T17:31:21.704Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T17:31:21.707Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Registrando nuevo cliente: asdf@example.com
2025-11-23T17:31:21.709Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.ClienteService          : Iniciando registro de cliente: asdf@example.com
2025-11-23T17:31:21.918Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.KeycloakService         : Usuario creado en Keycloak con ID: 83497558-0450-443f-b77a-731cf3f3d03f
2025-11-23T17:31:21.937Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.KeycloakService         : Rol CLIENTE asignado al usuario 83497558-0450-443f-b77a-731cf3f3d03f
2025-11-23T17:31:21.938Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.ClienteService          : Usuario creado en Keycloak con ID: 83497558-0450-443f-b77a-731cf3f3d03f
2025-11-23T17:31:21.947Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.ClienteService          : Cliente guardado en BD con ID: 3
2025-11-23T17:31:21.950Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Respuesta: 201 - Cliente registrado con ID: 3
2025-11-23T17:31:21.952Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T17:31:30.926Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T17:31:30.934Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:31:30.937Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9754e51d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:31:30.937Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T17:31:30.944Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T17:31:32.428Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T17:31:32.432Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T17:31:33.436Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T17:31:33.436Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T17:31:33.440Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T17:31:33.456Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 3 para la solicitud
2025-11-23T17:31:33.459Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T17:31:33.464Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 16 - Estado: PENDIENTE
2025-11-23T17:31:33.464Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 16
2025-11-23T17:32:48.099Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/16
2025-11-23T17:32:48.103Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:32:48.111Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9754e51d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:32:48.112Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/16
2025-11-23T17:32:48.113Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:32:48.113Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:32:48.113Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/16 - Buscando solicitud por ID
2025-11-23T17:32:48.116Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/16 - Respuesta: 200 - Solicitud encontrada
2025-11-23T17:33:10.317Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/16
2025-11-23T17:33:10.319Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:33:10.321Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9754e51d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:33:10.321Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/16
2025-11-23T17:33:10.323Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:33:10.323Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:33:10.323Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/16 - Buscando solicitud por ID
2025-11-23T17:33:10.326Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/16 - Respuesta: 200 - Solicitud encontrada
2025-11-23T17:37:39.833Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T17:37:39.843Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:37:39.843Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@64e65bee, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:37:39.847Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T17:37:39.853Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T17:37:41.791Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T17:37:41.792Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T17:37:43.094Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T17:37:43.094Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T17:37:43.100Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T17:37:43.105Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 4 para la solicitud
2025-11-23T17:37:43.107Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T17:37:43.112Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 17 - Estado: PENDIENTE
2025-11-23T17:37:43.112Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 17
2025-11-23T17:38:16.015Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/17
2025-11-23T17:38:16.018Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:38:16.030Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@64e65bee, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:38:16.030Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/17
2025-11-23T17:38:16.031Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:38:16.033Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:38:16.033Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Buscando solicitud por ID
2025-11-23T17:38:16.036Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Respuesta: 200 - Solicitud encontrada
2025-11-23T17:39:30.192Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/17/opciones/confirmar
2025-11-23T17:39:30.194Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:39:30.194Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@64e65bee, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:39:30.195Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/17/opciones/confirmar
2025-11-23T17:40:09.332Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/17
2025-11-23T17:40:09.334Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:40:09.335Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@64e65bee, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:40:09.336Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/17
2025-11-23T17:40:09.337Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:40:09.338Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:40:09.338Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Buscando solicitud por ID
2025-11-23T17:40:09.341Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Respuesta: 200 - Solicitud encontrada
2025-11-23T17:48:21.202Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/17/opciones/5/confirmar
2025-11-23T17:48:21.215Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:48:21.222Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@34674df9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:48:21.223Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/17/opciones/5/confirmar
2025-11-23T17:48:21.227Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:48:21.240Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:48:21.241Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/17/opciones/5/confirmar - Confirmando opción por opcionId
2025-11-23T17:48:21.243Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 5 para solicitud 17
2025-11-23T17:48:21.311Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 5 para solicitud 17: 500 Internal Server Error: "{"timestamp":"2025-11-23T17:48:21.294+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/5"}"
2025-11-23T17:48:21.312Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 17 opción 5: 500 Internal Server Error: "{"timestamp":"2025-11-23T17:48:21.294+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/5"}"
2025-11-23T17:48:27.599Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/17/opciones/6/confirmar
2025-11-23T17:48:27.601Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:48:27.603Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@34674df9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:48:27.605Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/17/opciones/6/confirmar
2025-11-23T17:48:27.606Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:48:27.607Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:48:27.608Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/17/opciones/6/confirmar - Confirmando opción por opcionId
2025-11-23T17:48:27.609Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 6 para solicitud 17
2025-11-23T17:48:27.617Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 6 para solicitud 17: 500 Internal Server Error: "{"timestamp":"2025-11-23T17:48:27.614+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/6"}"
2025-11-23T17:48:27.617Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 17 opción 6: 500 Internal Server Error: "{"timestamp":"2025-11-23T17:48:27.614+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/6"}"
2025-11-23T17:52:22.938Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T17:52:22.938Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T17:52:22.942Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Registrando nuevo cliente: juan.perez@example.com
2025-11-23T17:52:22.943Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.ClienteService          : Iniciando registro de cliente: juan.perez@example.com
2025-11-23T17:52:23.151Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Error: El username ya está en uso
2025-11-23T17:52:23.153Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T17:52:26.675Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T17:52:26.676Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T17:52:26.678Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Registrando nuevo cliente: juan.perez@example.com
2025-11-23T17:52:26.679Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.ClienteService          : Iniciando registro de cliente: juan.perez@example.com
2025-11-23T17:52:26.712Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Error: El email ya está registrado
2025-11-23T17:52:26.713Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T17:52:31.400Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T17:52:31.401Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T17:52:31.403Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Registrando nuevo cliente: juan.ww@example.com
2025-11-23T17:52:31.404Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.ClienteService          : Iniciando registro de cliente: juan.ww@example.com
2025-11-23T17:52:31.633Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.KeycloakService         : Usuario creado en Keycloak con ID: 3bb85e17-4eca-4a43-b295-be6e908124c9
2025-11-23T17:52:31.664Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.KeycloakService         : Rol CLIENTE asignado al usuario 3bb85e17-4eca-4a43-b295-be6e908124c9
2025-11-23T17:52:31.664Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.ClienteService          : Usuario creado en Keycloak con ID: 3bb85e17-4eca-4a43-b295-be6e908124c9
2025-11-23T17:52:31.668Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.ClienteService          : Cliente guardado en BD con ID: 4
2025-11-23T17:52:31.671Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Respuesta: 201 - Cliente registrado con ID: 4
2025-11-23T17:52:31.673Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T17:52:37.573Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T17:52:37.575Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:52:37.575Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3f586f01, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:52:37.576Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T17:52:37.578Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T17:52:38.993Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T17:52:38.994Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T17:52:40.069Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T17:52:40.070Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T17:52:40.075Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T17:52:40.082Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 5 para la solicitud
2025-11-23T17:52:40.084Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T17:52:40.089Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 18 - Estado: PENDIENTE
2025-11-23T17:52:40.089Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 18
2025-11-23T17:52:55.310Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/18
2025-11-23T17:52:55.318Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:52:55.320Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3f586f01, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:52:55.322Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/18
2025-11-23T17:52:55.327Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:52:55.328Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:52:55.329Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/18 - Buscando solicitud por ID
2025-11-23T17:52:55.333Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/18 - Respuesta: 200 - Solicitud encontrada
2025-11-23T17:53:09.402Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/8/confirmar
2025-11-23T17:53:09.403Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:53:09.405Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3f586f01, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:53:09.406Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/8/confirmar
2025-11-23T17:53:09.408Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:53:09.409Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:53:09.410Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/8/confirmar - Confirmando opción por opcionId
2025-11-23T17:53:09.411Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 8 para solicitud 18
2025-11-23T17:53:09.420Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 8 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T17:53:09.418+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/8"}"
2025-11-23T17:53:09.420Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 8: 500 Internal Server Error: "{"timestamp":"2025-11-23T17:53:09.418+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/8"}"
2025-11-23T17:56:29.112Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T17:56:29.127Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-23T17:56:29.144Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-23T17:56:33.447Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-23T17:56:33.450Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-23T17:56:34.989Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T17:56:35.073Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 69 ms. Found 5 JPA repository interfaces.
2025-11-23T17:56:36.604Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-23T17:56:36.651Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T17:56:36.654Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-23T17:56:36.808Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-23T17:56:36.810Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3285 ms
2025-11-23T17:56:37.765Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T17:56:37.796Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-23T17:56:37.977Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2fd4312a
2025-11-23T17:56:37.979Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-23T17:56:38.018Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T17:56:38.948Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T17:56:39.828Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T17:56:39.856Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-23T17:56:40.371Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-23T17:56:40.695Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-23T17:56:40.705Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 7.988 seconds (process running for 9.105)
2025-11-23T17:58:02.292Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-23T17:58:02.307Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/8/confirmar
2025-11-23T17:58:02.381Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:58:02.383Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3f586f01, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:58:02.388Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/8/confirmar
2025-11-23T17:58:02.406Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:58:02.413Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:58:02.413Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/8/confirmar - Confirmando opción por opcionId
2025-11-23T17:58:02.415Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 8 para solicitud 18
2025-11-23T17:58:02.646Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 8 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T17:58:02.601+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/8"}"
2025-11-23T17:58:02.648Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 8: 500 Internal Server Error: "{"timestamp":"2025-11-23T17:58:02.601+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/8"}"
2025-11-23T17:58:39.532Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/8/confirmar
2025-11-23T17:58:39.539Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T17:58:39.540Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e703fea7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T17:58:39.541Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/8/confirmar
2025-11-23T17:58:39.543Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:58:39.544Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T17:58:39.544Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/8/confirmar - Confirmando opción por opcionId
2025-11-23T17:58:39.546Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 8 para solicitud 18
2025-11-23T17:58:39.554Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 8 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T17:58:39.552+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/8"}"
2025-11-23T17:58:39.555Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 8: 500 Internal Server Error: "{"timestamp":"2025-11-23T17:58:39.552+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/8"}"
2025-11-23T18:00:14.679Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/18
2025-11-23T18:00:14.681Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:00:14.683Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e703fea7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.5, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:00:14.684Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/18
2025-11-23T18:00:14.686Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:00:14.687Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:00:14.688Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/18 - Buscando solicitud por ID
2025-11-23T18:00:14.704Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/18 - Respuesta: 200 - Solicitud encontrada
2025-11-23T18:00:34.521Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/10/confirmar
2025-11-23T18:00:34.523Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:00:34.524Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e703fea7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:00:34.527Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/10/confirmar
2025-11-23T18:00:34.539Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:00:34.540Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:00:34.548Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/10/confirmar - Confirmando opción por opcionId
2025-11-23T18:00:34.549Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 10 para solicitud 18
2025-11-23T18:00:34.557Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 10 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:00:34.555+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/10"}"
2025-11-23T18:00:34.558Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 10: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:00:34.555+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/10"}"
2025-11-23T18:01:05.691Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/3/confirmar
2025-11-23T18:01:05.694Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:01:05.695Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e703fea7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:01:05.695Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/3/confirmar
2025-11-23T18:01:05.697Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:01:05.700Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:01:05.717Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/3/confirmar - Confirmando opción por opcionId
2025-11-23T18:01:05.719Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 3 para solicitud 18
2025-11-23T18:01:05.726Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 3 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:01:05.724+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/3"}"
2025-11-23T18:01:05.727Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 3: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:01:05.724+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/3"}"
2025-11-23T18:01:12.876Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/1/confirmar
2025-11-23T18:01:12.878Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:01:12.878Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e703fea7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:01:12.879Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/1/confirmar
2025-11-23T18:01:12.880Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:01:12.881Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:01:12.882Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/1/confirmar - Confirmando opción por opcionId
2025-11-23T18:01:12.883Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 1 para solicitud 18
2025-11-23T18:01:12.890Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 1 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:01:12.889+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/1"}"
2025-11-23T18:01:12.891Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 1: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:01:12.889+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/1"}"
2025-11-23T18:01:16.434Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/2/confirmar
2025-11-23T18:01:16.435Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:01:16.437Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e703fea7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:01:16.440Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/2/confirmar
2025-11-23T18:01:16.442Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:01:16.443Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:01:16.446Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/2/confirmar - Confirmando opción por opcionId
2025-11-23T18:01:16.449Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 2 para solicitud 18
2025-11-23T18:01:16.455Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 2 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:01:16.454+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/2"}"
2025-11-23T18:01:16.456Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 2: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:01:16.454+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/2"}"
2025-11-23T18:02:33.226Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T18:02:33.229Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-23T18:02:33.233Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-23T18:02:37.029Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-23T18:02:37.032Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-23T18:02:38.430Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T18:02:38.516Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 5 JPA repository interfaces.
2025-11-23T18:02:39.790Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-23T18:02:39.832Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T18:02:39.835Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-23T18:02:39.991Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-23T18:02:39.994Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2887 ms
2025-11-23T18:02:41.012Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T18:02:41.046Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-23T18:02:41.344Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3ba97962
2025-11-23T18:02:41.347Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-23T18:02:41.390Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T18:02:42.306Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T18:02:43.115Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T18:02:43.133Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-23T18:02:43.571Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-23T18:02:43.913Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-23T18:02:43.922Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 7.532 seconds (process running for 8.355)
2025-11-23T18:05:29.389Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T18:05:29.392Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-23T18:05:29.396Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-23T18:05:31.964Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-23T18:05:31.968Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-23T18:05:33.511Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T18:05:33.575Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 5 JPA repository interfaces.
2025-11-23T18:05:34.711Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-23T18:05:34.752Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T18:05:34.759Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-23T18:05:34.924Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-23T18:05:34.925Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2885 ms
2025-11-23T18:05:35.993Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T18:05:36.028Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-23T18:05:36.247Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@35b3c1f6
2025-11-23T18:05:36.250Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-23T18:05:36.287Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T18:05:37.301Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T18:05:38.095Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T18:05:38.117Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-23T18:05:38.511Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-23T18:05:38.839Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-23T18:05:38.849Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 7.505 seconds (process running for 8.331)
2025-11-23T18:06:00.283Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-23T18:06:00.294Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/2/confirmar
2025-11-23T18:06:00.365Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:06:00.366Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4330f9e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:06:00.369Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/2/confirmar
2025-11-23T18:06:00.386Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:06:00.393Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:06:00.393Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/2/confirmar - Confirmando opción por opcionId
2025-11-23T18:06:00.394Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 2 para solicitud 18
2025-11-23T18:06:00.611Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 2 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:06:00.562+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/2"}"
2025-11-23T18:06:00.613Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 2: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:06:00.562+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/2"}"
2025-11-23T18:06:24.542Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/1/confirmar
2025-11-23T18:06:24.548Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:06:24.548Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4330f9e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:06:24.549Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/1/confirmar
2025-11-23T18:06:24.551Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:06:24.552Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:06:24.554Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/1/confirmar - Confirmando opción por opcionId
2025-11-23T18:06:24.555Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 1 para solicitud 18
2025-11-23T18:06:24.584Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 1 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:06:24.581+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/1"}"
2025-11-23T18:06:24.585Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 1: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:06:24.581+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/1"}"
2025-11-23T18:11:18.441Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T18:11:18.444Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-23T18:11:18.450Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-23T18:11:20.021Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-23T18:11:20.023Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-23T18:11:20.674Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T18:11:20.714Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2025-11-23T18:11:21.169Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-23T18:11:21.182Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T18:11:21.186Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-23T18:11:21.215Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-23T18:11:21.216Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1160 ms
2025-11-23T18:11:21.613Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T18:11:21.632Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-23T18:11:21.754Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@73d91faf
2025-11-23T18:11:21.755Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-23T18:11:21.775Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T18:11:22.390Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T18:11:23.072Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T18:11:23.089Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-23T18:11:23.182Z  WARN 1 --- [ms-solicitudes] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed
2025-11-23T18:11:23.183Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T18:11:23.190Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-23T18:11:23.193Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-23T18:11:23.195Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-11-23T18:11:23.206Z  INFO 1 --- [ms-solicitudes] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-23T18:11:23.217Z ERROR 1 --- [ms-solicitudes] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar!/:3.3.4]
	at com.backend.tpi.ms_solicitudes.MsSolicitudesApplication.main(MsSolicitudesApplication.java:10) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: java.lang.RuntimeException: Could not postProcess org.springframework.security.config.annotation.web.builders.WebSecurity@32db94fb of type class org.springframework.security.config.annotation.web.builders.WebSecurity
	at org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor.postProcess(AutowireBeanFactoryObjectPostProcessor.java:71) ~[spring-security-config-6.3.3.jar!/:6.3.3]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:148) ~[spring-security-config-6.3.3.jar!/:6.3.3]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:854) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.1.13.jar!/:6.1.13]
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospectorRequestTransformer': Cannot resolve reference to bean 'mvcHandlerMappingIntrospector' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:203) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:225) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1323) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1284) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:486) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.getIfUnique(DefaultListableBeanFactory.java:438) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.security.config.annotation.web.builders.WebSecurity.setApplicationContext(WebSecurity.java:397) ~[spring-security-config-6.3.3.jar!/:6.3.3]
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:110) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:85) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:422) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1798) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:412) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor.initializeBeanIfNeeded(AutowireBeanFactoryObjectPostProcessor.java:98) ~[spring-security-config-6.3.3.jar!/:6.3.3]
	at org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor.postProcess(AutowireBeanFactoryObjectPostProcessor.java:67) ~[spring-security-config-6.3.3.jar!/:6.3.3]
	... 28 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'solicitudController' method 
com.backend.tpi.ms_solicitudes.controllers.SolicitudController#confirmarOpcion(Long, Long)
to {POST [/api/v1/solicitudes/{solicitudId}/opciones/{opcionId}/confirmar]}: There is already 'solicitudController' bean method
com.backend.tpi.ms_solicitudes.controllers.SolicitudController#confirmOpcion(Long, Long) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.13.jar!/:6.1.13]
	... 51 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'solicitudController' method 
com.backend.tpi.ms_solicitudes.controllers.SolicitudController#confirmarOpcion(Long, Long)
to {POST [/api/v1/solicitudes/{solicitudId}/opciones/{opcionId}/confirmar]}: There is already 'solicitudController' bean method
com.backend.tpi.ms_solicitudes.controllers.SolicitudController#confirmOpcion(Long, Long) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:665) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1397) ~[spring-context-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:130) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:118) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar!/:6.1.13]
	... 58 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'solicitudController' method 
com.backend.tpi.ms_solicitudes.controllers.SolicitudController#confirmarOpcion(Long, Long)
to {POST [/api/v1/solicitudes/{solicitudId}/opciones/{opcionId}/confirmar]}: There is already 'solicitudController' bean method
com.backend.tpi.ms_solicitudes.controllers.SolicitudController#confirmOpcion(Long, Long) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:674) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:636) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:508) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:84) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at java.base/java.util.LinkedHashMap.forEach(Unknown Source) ~[na:na]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:239) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.13.jar!/:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.13.jar!/:6.1.13]
	... 71 common frames omitted

2025-11-23T18:15:43.146Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-23T18:15:43.151Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-23T18:15:44.611Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T18:15:44.700Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 5 JPA repository interfaces.
2025-11-23T18:15:46.047Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-23T18:15:46.096Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T18:15:46.102Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-23T18:15:46.191Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-23T18:15:46.192Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2970 ms
2025-11-23T18:15:47.182Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T18:15:47.222Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-23T18:15:47.462Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3bcc8f13
2025-11-23T18:15:47.465Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-23T18:15:47.507Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T18:15:48.495Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T18:15:49.389Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T18:15:49.424Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-23T18:15:49.846Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-23T18:15:50.132Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-23T18:15:50.142Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 7.686 seconds (process running for 8.575)
2025-11-23T18:19:49.663Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T18:19:49.666Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-23T18:19:49.673Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-23T18:19:52.273Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-23T18:19:52.277Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-23T18:19:54.006Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T18:19:54.094Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76 ms. Found 5 JPA repository interfaces.
2025-11-23T18:19:55.073Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-23T18:19:55.102Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T18:19:55.103Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-23T18:19:55.188Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-23T18:19:55.189Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2846 ms
2025-11-23T18:19:56.489Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T18:19:56.528Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-23T18:19:56.800Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1f48fa72
2025-11-23T18:19:56.804Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-23T18:19:56.849Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T18:19:58.004Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T18:19:58.747Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T18:19:58.770Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-23T18:19:59.196Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-23T18:19:59.530Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-23T18:19:59.542Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 8.031 seconds (process running for 8.53)
2025-11-23T18:21:12.687Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-23T18:21:12.703Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/18
2025-11-23T18:21:12.803Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:21:12.804Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@65140ca0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:21:12.808Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/18
2025-11-23T18:21:12.830Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:21:12.838Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:21:12.851Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/18 - Buscando solicitud por ID
2025-11-23T18:21:12.868Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/18 - Respuesta: 200 - Solicitud encontrada
2025-11-23T18:21:27.097Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/1/confirmar
2025-11-23T18:21:27.101Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:21:27.103Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@65140ca0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:21:27.104Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/1/confirmar
2025-11-23T18:21:27.106Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:21:27.107Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:21:27.107Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/1/confirmar - Confirmando opción por opcionId
2025-11-23T18:21:27.111Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 1 para solicitud 18
2025-11-23T18:21:27.180Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 1 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:21:27.161+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/1"}"
2025-11-23T18:21:27.181Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 1: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:21:27.161+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/1"}"
2025-11-23T18:21:33.631Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes/18/opciones/11/confirmar
2025-11-23T18:21:33.633Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:21:33.635Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@65140ca0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:21:33.636Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes/18/opciones/11/confirmar
2025-11-23T18:21:33.637Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:21:33.638Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.confirmOpcion(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:21:33.639Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes/18/opciones/11/confirmar - Confirmando opción por opcionId
2025-11-23T18:21:33.641Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Confirmando ruta por opcionId 11 para solicitud 18
2025-11-23T18:21:33.647Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Error confirmando por opcionId 11 para solicitud 18: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:21:33.645+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/11"}"
2025-11-23T18:21:33.648Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : Error confirmando opción para solicitud 18 opción 11: 500 Internal Server Error: "{"timestamp":"2025-11-23T18:21:33.645+00:00","message":"Request method 'POST' is not supported","details":"uri=/api/v1/rutas/11"}"
2025-11-23T18:39:17.727Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T18:39:17.740Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:39:17.741Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@85b211b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:39:17.741Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T18:39:17.856Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T18:39:19.429Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T18:39:19.430Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T18:39:20.543Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T18:39:20.546Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T18:39:20.554Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T18:39:20.586Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 6 para la solicitud
2025-11-23T18:39:20.597Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T18:39:20.603Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 19 - Estado: PENDIENTE
2025-11-23T18:39:20.611Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 19
2025-11-23T18:39:42.828Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/19
2025-11-23T18:39:42.831Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:39:42.833Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@85b211b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:39:42.833Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/19
2025-11-23T18:39:42.835Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:39:42.836Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:39:42.836Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/19 - Buscando solicitud por ID
2025-11-23T18:39:42.840Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/19 - Respuesta: 200 - Solicitud encontrada
2025-11-23T18:39:53.835Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/17/ruta?rutaId=1
2025-11-23T18:39:53.837Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:39:53.837Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@85b211b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:39:53.838Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/17/ruta?rutaId=1
2025-11-23T18:39:53.840Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:39:53.841Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:39:53.841Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/17/ruta - Asociando rutaId: 1
2025-11-23T18:39:53.842Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Seteando rutaId 1 para solicitud 17
2025-11-23T18:39:53.847Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T18:39:53.850Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Solicitud ID: 17 actualizada con rutaId: 1
2025-11-23T18:41:13.448Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/18/ruta?rutaId=2
2025-11-23T18:41:13.450Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:41:13.451Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@85b211b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:41:13.451Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/18/ruta?rutaId=2
2025-11-23T18:41:13.453Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:41:13.453Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:41:13.454Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/18/ruta - Asociando rutaId: 2
2025-11-23T18:41:13.455Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Seteando rutaId 2 para solicitud 18
2025-11-23T18:41:13.459Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T18:41:13.460Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Solicitud ID: 18 actualizada con rutaId: 2
2025-11-23T18:41:26.986Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T18:41:26.986Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T18:41:26.996Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Registrando nuevo cliente: juan.perez@example.com
2025-11-23T18:41:26.998Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.ClienteService          : Iniciando registro de cliente: juan.perez@example.com
2025-11-23T18:41:27.517Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Error: El username ya está en uso
2025-11-23T18:41:27.520Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T18:41:31.405Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T18:41:31.408Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:41:31.408Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@85b211b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:41:31.409Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T18:41:31.432Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T18:41:33.069Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T18:41:33.070Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T18:41:34.372Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T18:41:34.374Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T18:41:34.379Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T18:41:34.385Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 7 para la solicitud
2025-11-23T18:41:34.388Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T18:41:34.392Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 20 - Estado: PENDIENTE
2025-11-23T18:41:34.400Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 20
2025-11-23T18:41:42.129Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/20
2025-11-23T18:41:42.130Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:41:42.131Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@85b211b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:41:42.132Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/20
2025-11-23T18:41:42.133Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:41:42.134Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:41:42.154Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/20 - Buscando solicitud por ID
2025-11-23T18:41:42.168Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/20 - Respuesta: 200 - Solicitud encontrada
2025-11-23T18:41:50.608Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/20/ruta?rutaId=3
2025-11-23T18:41:50.610Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:41:50.610Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@85b211b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:41:50.611Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/20/ruta?rutaId=3
2025-11-23T18:41:50.612Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:41:50.612Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:41:50.613Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/20/ruta - Asociando rutaId: 3
2025-11-23T18:41:50.614Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Seteando rutaId 3 para solicitud 20
2025-11-23T18:41:50.620Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T18:41:50.620Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Solicitud ID: 20 actualizada con rutaId: 3
2025-11-23T18:42:49.346Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores
2025-11-23T18:42:49.349Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:42:49.349Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@85b211b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:42:49.350Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores
2025-11-23T18:42:49.351Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getAllContenedores(); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T18:42:49.354Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getAllContenedores(); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T18:42:49.354Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores - Listando todos los contenedores
2025-11-23T18:42:49.365Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores - Respuesta: 200 - 7 contenedores encontrados
2025-11-23T18:47:24.203Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/17
2025-11-23T18:47:24.220Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:47:24.220Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1664ac2e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:47:24.221Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/17
2025-11-23T18:47:24.223Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:47:24.223Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:47:24.223Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Buscando solicitud por ID
2025-11-23T18:47:24.228Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Respuesta: 200 - Solicitud encontrada
2025-11-23T18:47:24.235Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/4
2025-11-23T18:47:24.236Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:47:24.238Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1664ac2e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:47:24.238Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/4
2025-11-23T18:47:24.240Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T18:47:24.242Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T18:47:24.257Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Buscando contenedor por ID
2025-11-23T18:47:24.261Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Respuesta: 200 - Contenedor encontrado
2025-11-23T18:47:24.294Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/17/estado?nuevoEstado=EN_TRANSITO
2025-11-23T18:47:24.296Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:47:24.296Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1664ac2e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:47:24.297Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/17/estado?nuevoEstado=EN_TRANSITO
2025-11-23T18:47:24.306Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:47:24.306Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:47:24.307Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/17/estado - Cambiando estado a: EN_TRANSITO
2025-11-23T18:47:24.308Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 17 a EN_TRANSITO
2025-11-23T18:47:24.314Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-23T18:47:24.318Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/17/estado - Respuesta: 200 - Estado cambiado
2025-11-23T18:47:40.120Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/17
2025-11-23T18:47:40.122Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:47:40.122Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1664ac2e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:47:40.123Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/17
2025-11-23T18:47:40.124Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:47:40.124Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:47:40.125Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Buscando solicitud por ID
2025-11-23T18:47:40.128Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Respuesta: 200 - Solicitud encontrada
2025-11-23T18:47:40.131Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/4
2025-11-23T18:47:40.133Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:47:40.136Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1664ac2e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:47:40.136Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/4
2025-11-23T18:47:40.137Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T18:47:40.138Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T18:47:40.138Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Buscando contenedor por ID
2025-11-23T18:47:40.140Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Respuesta: 200 - Contenedor encontrado
2025-11-23T18:47:46.946Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/17
2025-11-23T18:47:46.948Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:47:46.949Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1664ac2e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:47:46.949Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/17
2025-11-23T18:47:46.950Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:47:46.951Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:47:46.952Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Buscando solicitud por ID
2025-11-23T18:47:46.955Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Respuesta: 200 - Solicitud encontrada
2025-11-23T18:47:46.959Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/4
2025-11-23T18:47:46.972Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:47:46.981Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1664ac2e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:47:46.982Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/4
2025-11-23T18:47:46.983Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T18:47:46.984Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T18:47:46.984Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Buscando contenedor por ID
2025-11-23T18:47:46.987Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Respuesta: 200 - Contenedor encontrado
2025-11-23T18:47:51.331Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/17
2025-11-23T18:47:51.339Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:47:51.339Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1664ac2e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:47:51.340Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/17
2025-11-23T18:47:51.341Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:47:51.341Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:47:51.342Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Buscando solicitud por ID
2025-11-23T18:47:51.344Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Respuesta: 200 - Solicitud encontrada
2025-11-23T18:47:51.349Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/4
2025-11-23T18:47:51.357Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:47:51.358Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1664ac2e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:47:51.359Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/4
2025-11-23T18:47:51.361Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T18:47:51.361Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T18:47:51.362Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Buscando contenedor por ID
2025-11-23T18:47:51.364Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Respuesta: 200 - Contenedor encontrado
2025-11-23T18:50:24.313Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T18:50:24.315Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:50:24.317Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a02fe079, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:50:24.319Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T18:50:24.333Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T18:50:26.888Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T18:50:26.890Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T18:50:28.310Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T18:50:28.320Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T18:50:28.325Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T18:50:28.332Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 8 para la solicitud
2025-11-23T18:50:28.334Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T18:50:28.350Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 21 - Estado: PENDIENTE
2025-11-23T18:50:28.350Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 21
2025-11-23T18:50:43.046Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/21
2025-11-23T18:50:43.050Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:50:43.051Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a02fe079, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:50:43.051Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/21
2025-11-23T18:50:43.052Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:50:43.053Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:50:43.054Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/21 - Buscando solicitud por ID
2025-11-23T18:50:43.057Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/21 - Respuesta: 200 - Solicitud encontrada
2025-11-23T18:51:30.097Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/21/ruta?rutaId=4
2025-11-23T18:51:30.099Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T18:51:30.100Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a02fe079, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T18:51:30.100Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/21/ruta?rutaId=4
2025-11-23T18:51:30.102Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:51:30.102Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T18:51:30.102Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/21/ruta - Asociando rutaId: 4
2025-11-23T18:51:30.104Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Seteando rutaId 4 para solicitud 21
2025-11-23T18:51:30.109Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T18:51:30.110Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Solicitud ID: 21 actualizada con rutaId: 4
2025-11-23T19:15:02.550Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/17
2025-11-23T19:15:02.572Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:15:02.573Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7a5728be, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:15:02.578Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/17
2025-11-23T19:15:02.592Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:15:02.593Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:15:02.602Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Buscando solicitud por ID
2025-11-23T19:15:02.624Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/17 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:15:02.674Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/4
2025-11-23T19:15:02.676Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:15:02.677Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7a5728be, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:15:02.677Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/4
2025-11-23T19:15:02.679Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:15:02.680Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:15:02.680Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Buscando contenedor por ID
2025-11-23T19:15:02.683Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/4 - Respuesta: 200 - Contenedor encontrado
2025-11-23T19:24:04.531Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/21
2025-11-23T19:24:04.542Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:24:04.543Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f7ff8d8c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:24:04.544Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/21
2025-11-23T19:24:04.546Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:24:04.546Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:24:04.547Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/21 - Buscando solicitud por ID
2025-11-23T19:24:04.553Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/21 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:24:04.600Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/8
2025-11-23T19:24:04.603Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:24:04.604Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f7ff8d8c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:24:04.605Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/8
2025-11-23T19:24:04.606Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:24:04.607Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:24:04.607Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/8 - Buscando contenedor por ID
2025-11-23T19:24:04.611Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/8 - Respuesta: 200 - Contenedor encontrado
2025-11-23T19:24:04.660Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/21/estado?nuevoEstado=EN_TRANSITO
2025-11-23T19:24:04.661Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:24:04.662Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f7ff8d8c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:24:04.664Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/21/estado?nuevoEstado=EN_TRANSITO
2025-11-23T19:24:04.666Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:24:04.667Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:24:04.668Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/21/estado - Cambiando estado a: EN_TRANSITO
2025-11-23T19:24:04.669Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 21 a EN_TRANSITO
2025-11-23T19:24:04.687Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-23T19:24:04.697Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/21/estado - Respuesta: 200 - Estado cambiado
2025-11-23T19:24:57.565Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/21
2025-11-23T19:24:57.577Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:24:57.578Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f7ff8d8c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:24:57.579Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/21
2025-11-23T19:24:57.580Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:24:57.581Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:24:57.581Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/21 - Buscando solicitud por ID
2025-11-23T19:24:57.584Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/21 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:24:57.591Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/8
2025-11-23T19:24:57.593Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:24:57.594Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f7ff8d8c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:24:57.594Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/8
2025-11-23T19:24:57.595Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:24:57.596Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:24:57.597Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/8 - Buscando contenedor por ID
2025-11-23T19:24:57.600Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/8 - Respuesta: 200 - Contenedor encontrado
2025-11-23T19:25:09.527Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/21
2025-11-23T19:25:09.529Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:25:09.542Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f7ff8d8c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:25:09.542Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/21
2025-11-23T19:25:09.543Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:25:09.544Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:25:09.544Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/21 - Buscando solicitud por ID
2025-11-23T19:25:09.547Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/21 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:25:09.551Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/8
2025-11-23T19:25:09.552Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:25:09.553Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f7ff8d8c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:25:09.553Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/8
2025-11-23T19:25:09.554Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:25:09.554Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:25:09.555Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/8 - Buscando contenedor por ID
2025-11-23T19:25:09.557Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/8 - Respuesta: 200 - Contenedor encontrado
2025-11-23T19:25:53.409Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/21/estado
2025-11-23T19:25:53.411Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:25:53.412Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f7ff8d8c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:25:53.413Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/21/estado
2025-11-23T19:26:15.930Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/21/estado
2025-11-23T19:26:15.932Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:26:15.932Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f7ff8d8c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:26:15.933Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/21/estado
2025-11-23T19:38:01.073Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T19:38:01.082Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:38:01.083Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:38:01.083Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T19:38:01.092Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T19:38:02.820Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T19:38:02.820Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T19:38:03.933Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T19:38:03.934Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T19:38:03.945Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T19:38:03.956Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 9 para la solicitud
2025-11-23T19:38:03.959Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T19:38:03.966Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 22 - Estado: PENDIENTE
2025-11-23T19:38:03.966Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 22
2025-11-23T19:38:25.732Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/22
2025-11-23T19:38:25.739Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:38:25.740Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:38:25.741Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/22
2025-11-23T19:38:25.742Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:38:25.743Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:38:25.743Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/22 - Buscando solicitud por ID
2025-11-23T19:38:25.747Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/22 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:38:52.392Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/22/ruta?rutaId=5
2025-11-23T19:38:52.407Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:38:52.408Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:38:52.410Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/22/ruta?rutaId=5
2025-11-23T19:38:52.412Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:38:52.413Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:38:52.413Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/22/ruta - Asociando rutaId: 5
2025-11-23T19:38:52.415Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Seteando rutaId 5 para solicitud 22
2025-11-23T19:38:52.420Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T19:38:52.422Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Solicitud ID: 22 actualizada con rutaId: 5
2025-11-23T19:41:53.587Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/22
2025-11-23T19:41:53.589Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:41:53.590Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:41:53.591Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/22
2025-11-23T19:41:53.592Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:41:53.593Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:41:53.593Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/22 - Buscando solicitud por ID
2025-11-23T19:41:53.597Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/22 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:41:53.604Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/9
2025-11-23T19:41:53.606Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:41:53.607Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:41:53.607Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/9
2025-11-23T19:41:53.608Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:41:53.609Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:41:53.609Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/9 - Buscando contenedor por ID
2025-11-23T19:41:53.612Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/9 - Respuesta: 200 - Contenedor encontrado
2025-11-23T19:41:53.647Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/22/estado?nuevoEstado=EN_TRANSITO
2025-11-23T19:41:53.650Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:41:53.651Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:41:53.652Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/22/estado?nuevoEstado=EN_TRANSITO
2025-11-23T19:41:53.653Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:41:53.654Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:41:53.655Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/22/estado - Cambiando estado a: EN_TRANSITO
2025-11-23T19:41:53.656Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 22 a EN_TRANSITO
2025-11-23T19:41:53.661Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-23T19:41:53.665Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/22/estado - Respuesta: 200 - Estado cambiado
2025-11-23T19:42:04.081Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/22
2025-11-23T19:42:04.083Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:42:04.084Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:42:04.085Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/22
2025-11-23T19:42:04.086Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:42:04.088Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:42:04.088Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/22 - Buscando solicitud por ID
2025-11-23T19:42:04.092Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/22 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:42:04.096Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/9
2025-11-23T19:42:04.098Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:42:04.098Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:42:04.099Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/9
2025-11-23T19:42:04.100Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:42:04.101Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:42:04.102Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/9 - Buscando contenedor por ID
2025-11-23T19:42:04.105Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/9 - Respuesta: 200 - Contenedor encontrado
2025-11-23T19:42:13.240Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/22
2025-11-23T19:42:13.246Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:42:13.261Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:42:13.261Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/22
2025-11-23T19:42:13.264Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:42:13.264Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:42:13.271Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/22 - Buscando solicitud por ID
2025-11-23T19:42:13.276Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/22 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:42:13.286Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/9
2025-11-23T19:42:13.287Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:42:13.300Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:42:13.301Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/9
2025-11-23T19:42:13.303Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:42:13.316Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:42:13.317Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/9 - Buscando contenedor por ID
2025-11-23T19:42:13.319Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/9 - Respuesta: 200 - Contenedor encontrado
2025-11-23T19:43:08.115Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/22
2025-11-23T19:43:08.124Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:43:08.124Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:43:08.127Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/22
2025-11-23T19:43:08.130Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:43:08.133Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:43:08.136Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/22 - Buscando solicitud por ID
2025-11-23T19:43:08.141Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/22 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:43:08.156Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/9
2025-11-23T19:43:08.160Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:43:08.161Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d9edc884, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:43:08.161Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/9
2025-11-23T19:43:08.162Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:43:08.163Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:43:08.163Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/9 - Buscando contenedor por ID
2025-11-23T19:43:08.165Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/9 - Respuesta: 200 - Contenedor encontrado
2025-11-23T19:54:38.128Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/clientes/registro
2025-11-23T19:54:38.129Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/clientes/registro
2025-11-23T19:54:38.135Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Registrando nuevo cliente: juan.perez@example.com
2025-11-23T19:54:38.142Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.ClienteService          : Iniciando registro de cliente: juan.perez@example.com
2025-11-23T19:54:38.369Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.ClienteController    : POST /api/v1/clientes/registro - Error: El username ya está en uso
2025-11-23T19:54:38.371Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-23T19:54:41.283Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T19:54:41.321Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:54:41.322Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@22aeb43e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:54:41.323Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T19:54:41.327Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T19:54:42.893Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T19:54:42.894Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T19:54:43.980Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T19:54:43.981Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T19:54:43.986Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T19:54:44.010Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 10 para la solicitud
2025-11-23T19:54:44.014Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T19:54:44.032Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 23 - Estado: PENDIENTE
2025-11-23T19:54:44.045Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 23
2025-11-23T19:54:55.773Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/23
2025-11-23T19:54:55.775Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:54:55.776Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@22aeb43e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:54:55.777Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/23
2025-11-23T19:54:55.783Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:54:55.783Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:54:55.784Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/23 - Buscando solicitud por ID
2025-11-23T19:54:55.796Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/23 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:55:08.917Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/23/ruta?rutaId=6
2025-11-23T19:55:08.919Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:55:08.919Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@22aeb43e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:55:08.919Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/23/ruta?rutaId=6
2025-11-23T19:55:08.920Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:55:08.921Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:55:08.921Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/23/ruta - Asociando rutaId: 6
2025-11-23T19:55:08.922Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Seteando rutaId 6 para solicitud 23
2025-11-23T19:55:08.926Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T19:55:08.927Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Solicitud ID: 23 actualizada con rutaId: 6
2025-11-23T19:56:37.110Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/23
2025-11-23T19:56:37.112Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:56:37.112Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@22aeb43e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:56:37.113Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/23
2025-11-23T19:56:37.114Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:56:37.115Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:56:37.115Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/23 - Buscando solicitud por ID
2025-11-23T19:56:37.118Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/23 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:56:37.123Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/10
2025-11-23T19:56:37.124Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:56:37.127Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@22aeb43e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:56:37.127Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/10
2025-11-23T19:56:37.128Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:56:37.129Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:56:37.140Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/10 - Buscando contenedor por ID
2025-11-23T19:56:37.143Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/10 - Respuesta: 200 - Contenedor encontrado
2025-11-23T19:56:37.191Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/23/estado?nuevoEstado=EN_TRANSITO
2025-11-23T19:56:37.192Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:56:37.199Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@22aeb43e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:56:37.199Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/23/estado?nuevoEstado=EN_TRANSITO
2025-11-23T19:56:37.201Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:56:37.201Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:56:37.202Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/23/estado - Cambiando estado a: EN_TRANSITO
2025-11-23T19:56:37.203Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 23 a EN_TRANSITO
2025-11-23T19:56:37.207Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-23T19:56:37.211Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/23/estado - Respuesta: 200 - Estado cambiado
2025-11-23T19:57:31.866Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/23
2025-11-23T19:57:31.867Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:57:31.868Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@22aeb43e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:57:31.868Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/23
2025-11-23T19:57:31.869Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:57:31.869Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T19:57:31.870Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/23 - Buscando solicitud por ID
2025-11-23T19:57:31.872Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/23 - Respuesta: 200 - Solicitud encontrada
2025-11-23T19:57:31.876Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/10
2025-11-23T19:57:31.877Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T19:57:31.877Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@22aeb43e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T19:57:31.878Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/10
2025-11-23T19:57:31.879Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:57:31.879Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T19:57:31.879Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/10 - Buscando contenedor por ID
2025-11-23T19:57:31.882Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/10 - Respuesta: 200 - Contenedor encontrado
2025-11-23T20:12:19.557Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T20:12:19.566Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:12:19.567Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@bcea8417, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:12:19.568Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T20:12:19.573Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T20:12:21.098Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T20:12:21.100Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T20:12:22.175Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T20:12:22.176Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T20:12:22.181Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T20:12:22.188Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 11 para la solicitud
2025-11-23T20:12:22.190Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T20:12:22.194Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 24 - Estado: PENDIENTE
2025-11-23T20:12:22.195Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 24
2025-11-23T20:14:01.509Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/24
2025-11-23T20:14:01.511Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:14:01.511Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4b0e8365, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:14:01.512Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/24
2025-11-23T20:14:01.513Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:14:01.513Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:14:01.514Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/24 - Buscando solicitud por ID
2025-11-23T20:14:01.518Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/24 - Respuesta: 200 - Solicitud encontrada
2025-11-23T20:14:17.962Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/24/ruta?rutaId=7
2025-11-23T20:14:17.963Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:14:17.965Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4b0e8365, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:14:17.965Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/24/ruta?rutaId=7
2025-11-23T20:14:17.966Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:14:17.968Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:14:17.969Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/24/ruta - Asociando rutaId: 7
2025-11-23T20:14:17.970Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Seteando rutaId 7 para solicitud 24
2025-11-23T20:14:17.974Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T20:14:17.979Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Solicitud ID: 24 actualizada con rutaId: 7
2025-11-23T20:18:47.641Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/24
2025-11-23T20:18:47.651Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:18:47.652Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4b0e8365, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:18:47.652Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/24
2025-11-23T20:18:47.657Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:18:47.657Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:18:47.660Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/24 - Buscando solicitud por ID
2025-11-23T20:18:47.663Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/24 - Respuesta: 200 - Solicitud encontrada
2025-11-23T20:18:47.669Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/11
2025-11-23T20:18:47.671Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:18:47.671Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4b0e8365, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:18:47.671Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/11
2025-11-23T20:18:47.672Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:18:47.673Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:18:47.673Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/11 - Buscando contenedor por ID
2025-11-23T20:18:47.675Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/11 - Respuesta: 200 - Contenedor encontrado
2025-11-23T20:19:06.858Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/24/estado?nuevoEstado=EN_TRANSITO
2025-11-23T20:19:06.866Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:19:06.870Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4b0e8365, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:19:06.874Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/24/estado?nuevoEstado=EN_TRANSITO
2025-11-23T20:19:06.879Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:19:06.882Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:19:06.882Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/24/estado - Cambiando estado a: EN_TRANSITO
2025-11-23T20:19:06.885Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 24 a EN_TRANSITO
2025-11-23T20:19:06.894Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-23T20:19:06.899Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/24/estado - Respuesta: 200 - Estado cambiado
2025-11-23T20:30:59.680Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T20:30:59.690Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:30:59.692Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7df4a44c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:30:59.694Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T20:30:59.697Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T20:31:01.162Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T20:31:01.163Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T20:31:02.206Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T20:31:02.206Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T20:31:02.213Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T20:31:02.222Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 12 para la solicitud
2025-11-23T20:31:02.225Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T20:31:02.229Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 25 - Estado: PENDIENTE
2025-11-23T20:31:02.230Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 25
2025-11-23T20:31:14.582Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/25
2025-11-23T20:31:14.584Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:31:14.584Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7df4a44c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:31:14.585Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/25
2025-11-23T20:31:14.586Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:31:14.587Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:31:14.588Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/25 - Buscando solicitud por ID
2025-11-23T20:31:14.592Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/25 - Respuesta: 200 - Solicitud encontrada
2025-11-23T20:31:28.535Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/25/ruta?rutaId=8
2025-11-23T20:31:28.536Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:31:28.537Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7df4a44c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:31:28.537Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/25/ruta?rutaId=8
2025-11-23T20:31:28.539Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:31:28.539Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:31:28.539Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/25/ruta - Asociando rutaId: 8
2025-11-23T20:31:28.540Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Seteando rutaId 8 para solicitud 25
2025-11-23T20:31:28.545Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T20:31:28.546Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.services.SolicitudService        : Solicitud ID: 25 actualizada con rutaId: 8
2025-11-23T20:34:29.081Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/25
2025-11-23T20:34:29.083Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:34:29.084Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7df4a44c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:34:29.085Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/25
2025-11-23T20:34:29.086Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:34:29.086Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:34:29.088Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/25 - Buscando solicitud por ID
2025-11-23T20:34:29.091Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/25 - Respuesta: 200 - Solicitud encontrada
2025-11-23T20:34:29.097Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/12
2025-11-23T20:34:29.098Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:34:29.099Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7df4a44c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:34:29.099Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/12
2025-11-23T20:34:29.101Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:34:29.101Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:34:29.102Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/12 - Buscando contenedor por ID
2025-11-23T20:34:29.104Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/12 - Respuesta: 200 - Contenedor encontrado
2025-11-23T20:34:35.267Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/25/estado?nuevoEstado=EN_TRANSITO
2025-11-23T20:34:35.278Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:34:35.285Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7df4a44c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:34:35.301Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/25/estado?nuevoEstado=EN_TRANSITO
2025-11-23T20:34:35.311Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:34:35.330Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:34:35.339Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/25/estado - Cambiando estado a: EN_TRANSITO
2025-11-23T20:34:35.340Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 25 a EN_TRANSITO
2025-11-23T20:34:35.345Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-23T20:34:35.350Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/25/estado - Respuesta: 200 - Estado cambiado
2025-11-23T20:35:00.901Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/25
2025-11-23T20:35:00.917Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:35:00.917Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7df4a44c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:35:00.918Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/25
2025-11-23T20:35:00.919Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:35:00.919Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:35:00.920Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/25 - Buscando solicitud por ID
2025-11-23T20:35:00.923Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/25 - Respuesta: 200 - Solicitud encontrada
2025-11-23T20:35:00.927Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/12
2025-11-23T20:35:00.936Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:35:00.937Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7df4a44c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:35:00.937Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/12
2025-11-23T20:35:00.940Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:35:00.946Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:35:00.947Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/12 - Buscando contenedor por ID
2025-11-23T20:35:00.949Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/12 - Respuesta: 200 - Contenedor encontrado
2025-11-23T20:40:10.117Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/25
2025-11-23T20:40:10.133Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:40:10.133Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4d4dfa6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:40:10.134Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/25
2025-11-23T20:40:10.135Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:40:10.135Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:40:10.136Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/25 - Buscando solicitud por ID
2025-11-23T20:40:10.149Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/25 - Respuesta: 200 - Solicitud encontrada
2025-11-23T20:40:10.154Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/12
2025-11-23T20:40:10.155Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:40:10.160Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4d4dfa6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:40:10.161Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/12
2025-11-23T20:40:10.165Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:40:10.174Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:40:10.175Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/12 - Buscando contenedor por ID
2025-11-23T20:40:10.177Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/12 - Respuesta: 200 - Contenedor encontrado
2025-11-23T20:45:10.924Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T20:45:10.938Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:45:10.939Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8a5f4c8b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:45:10.940Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T20:45:10.944Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T20:45:12.494Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T20:45:12.497Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T20:45:13.534Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T20:45:13.542Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T20:45:13.547Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T20:45:13.573Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 13 para la solicitud
2025-11-23T20:45:13.575Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T20:45:13.579Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 26 - Estado: PENDIENTE
2025-11-23T20:45:13.580Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 26
2025-11-23T20:45:24.822Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/26
2025-11-23T20:45:24.823Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:45:24.824Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8a5f4c8b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:45:24.824Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/26
2025-11-23T20:45:24.826Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:45:24.826Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:45:24.827Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26 - Buscando solicitud por ID
2025-11-23T20:45:24.830Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26 - Respuesta: 200 - Solicitud encontrada
2025-11-23T20:45:36.825Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/26/ruta?rutaId=9
2025-11-23T20:45:36.826Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:45:36.833Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8a5f4c8b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:45:36.834Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/26/ruta?rutaId=9
2025-11-23T20:45:36.836Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:45:36.837Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:45:36.837Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/26/ruta - Asociando rutaId: 9
2025-11-23T20:45:36.839Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Seteando rutaId 9 para solicitud 26
2025-11-23T20:45:36.844Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T20:45:36.845Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Solicitud ID: 26 actualizada con rutaId: 9
2025-11-23T20:46:13.925Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/26
2025-11-23T20:46:13.943Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:46:13.944Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8a5f4c8b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:46:13.944Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/26
2025-11-23T20:46:13.945Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:46:13.946Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:46:13.948Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26 - Buscando solicitud por ID
2025-11-23T20:46:13.951Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26 - Respuesta: 200 - Solicitud encontrada
2025-11-23T20:46:13.958Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/13
2025-11-23T20:46:13.959Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:46:13.960Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8a5f4c8b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:46:13.964Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/13
2025-11-23T20:46:13.974Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:46:13.980Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:46:13.981Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/13 - Buscando contenedor por ID
2025-11-23T20:46:13.984Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/13 - Respuesta: 200 - Contenedor encontrado
2025-11-23T20:46:21.790Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/26/estado?nuevoEstado=EN_TRANSITO
2025-11-23T20:46:21.791Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:46:21.792Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8a5f4c8b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:46:21.793Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/26/estado?nuevoEstado=EN_TRANSITO
2025-11-23T20:46:21.794Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:46:21.794Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:46:21.794Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/26/estado - Cambiando estado a: EN_TRANSITO
2025-11-23T20:46:21.795Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 26 a EN_TRANSITO
2025-11-23T20:46:21.799Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-23T20:46:21.804Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/26/estado - Respuesta: 200 - Estado cambiado
2025-11-23T20:52:13.351Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/26/estados-permitidos
2025-11-23T20:52:13.360Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:52:13.364Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a76a287e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:52:13.369Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/26/estados-permitidos
2025-11-23T20:52:13.381Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:52:13.388Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getEstadosPermitidos(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:52:13.389Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26/estados-permitidos - Consultando transiciones permitidas
2025-11-23T20:52:13.398Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Consultando estados permitidos para solicitud ID: 26
2025-11-23T20:52:13.409Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Solicitud ID: 26 en estado 'EN_TRANSITO' puede transicionar a: [COMPLETADA, PROGRAMADA]
2025-11-23T20:52:13.410Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26/estados-permitidos - Respuesta: 200 - 2 estados permitidos
2025-11-23T20:52:23.682Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/26/seguimiento
2025-11-23T20:52:23.683Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:52:23.685Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a76a287e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:52:23.690Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/26/seguimiento
2025-11-23T20:52:23.701Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:52:23.702Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:52:23.708Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26/seguimiento - Consultando seguimiento de solicitud
2025-11-23T20:52:44.551Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/13/seguimiento
2025-11-23T20:52:44.552Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:52:44.553Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a76a287e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:52:44.555Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/13/seguimiento
2025-11-23T20:52:44.561Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:52:44.563Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T20:52:44.564Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/13/seguimiento - Consultando seguimiento
2025-11-23T20:52:44.571Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/13/seguimiento - Respuesta: 200 - Seguimiento obtenido
2025-11-23T20:52:53.418Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/26
2025-11-23T20:52:53.422Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:52:53.422Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a76a287e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:52:53.423Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/26
2025-11-23T20:52:53.424Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:52:53.428Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:52:53.432Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26 - Buscando solicitud por ID
2025-11-23T20:52:53.446Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26 - Respuesta: 200 - Solicitud encontrada
2025-11-23T20:53:00.624Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/26/seguimiento
2025-11-23T20:53:00.627Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T20:53:00.627Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a76a287e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T20:53:00.628Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/26/seguimiento
2025-11-23T20:53:00.635Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:53:00.636Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T20:53:00.636Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/26/seguimiento - Consultando seguimiento de solicitud
2025-11-23T21:03:21.131Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T21:03:21.144Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:03:21.147Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:03:21.148Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T21:03:21.150Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T21:03:23.064Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T21:03:23.065Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T21:03:25.511Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T21:03:25.511Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T21:03:25.518Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T21:03:25.541Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 14 para la solicitud
2025-11-23T21:03:25.544Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T21:03:25.548Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 27 - Estado: PENDIENTE
2025-11-23T21:03:25.548Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 27
2025-11-23T21:03:36.960Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T21:03:36.963Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:03:36.964Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:03:36.964Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T21:03:36.966Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T21:03:38.548Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T21:03:38.549Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T21:03:39.815Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T21:03:39.816Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T21:03:39.821Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T21:03:39.827Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 15 para la solicitud
2025-11-23T21:03:39.829Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T21:03:39.836Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 28 - Estado: PENDIENTE
2025-11-23T21:03:39.837Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 28
2025-11-23T21:03:49.802Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28/seguimiento
2025-11-23T21:03:49.804Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:03:49.804Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:03:49.805Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28/seguimiento
2025-11-23T21:03:49.806Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:03:49.812Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:03:49.823Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28/seguimiento - Consultando seguimiento de solicitud
2025-11-23T21:03:58.625Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28
2025-11-23T21:03:58.628Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:03:58.628Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:03:58.629Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28
2025-11-23T21:03:58.630Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:03:58.630Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:03:58.631Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Buscando solicitud por ID
2025-11-23T21:03:58.635Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:04:16.061Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/28/ruta?rutaId=10
2025-11-23T21:04:16.063Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:04:16.065Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:04:16.066Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/28/ruta?rutaId=10
2025-11-23T21:04:16.067Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:04:16.068Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:04:16.068Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/28/ruta - Asociando rutaId: 10
2025-11-23T21:04:16.069Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Seteando rutaId 10 para solicitud 28
2025-11-23T21:04:16.075Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T21:04:16.076Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.services.SolicitudService        : Solicitud ID: 28 actualizada con rutaId: 10
2025-11-23T21:04:47.691Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28
2025-11-23T21:04:47.693Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:04:47.694Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:04:47.694Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28
2025-11-23T21:04:47.696Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:04:47.697Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:04:47.698Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Buscando solicitud por ID
2025-11-23T21:04:47.701Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:04:47.706Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/15
2025-11-23T21:04:47.708Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:04:47.708Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:04:47.709Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/15
2025-11-23T21:04:47.710Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:04:47.711Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:04:47.711Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/15 - Buscando contenedor por ID
2025-11-23T21:04:47.713Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/15 - Respuesta: 200 - Contenedor encontrado
2025-11-23T21:07:42.295Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28
2025-11-23T21:07:42.304Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:07:42.305Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:07:42.306Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28
2025-11-23T21:07:42.307Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:07:42.308Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:07:42.309Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Buscando solicitud por ID
2025-11-23T21:07:42.314Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:07:42.320Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/15
2025-11-23T21:07:42.322Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:07:42.322Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:07:42.323Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/15
2025-11-23T21:07:42.327Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:07:42.328Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:07:42.329Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/15 - Buscando contenedor por ID
2025-11-23T21:07:42.332Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/15 - Respuesta: 200 - Contenedor encontrado
2025-11-23T21:07:48.400Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/28/estado?nuevoEstado=EN_TRANSITO
2025-11-23T21:07:48.402Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:07:48.402Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:07:48.403Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/28/estado?nuevoEstado=EN_TRANSITO
2025-11-23T21:07:48.405Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:07:48.405Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:07:48.422Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/28/estado - Cambiando estado a: EN_TRANSITO
2025-11-23T21:07:48.424Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 28 a EN_TRANSITO
2025-11-23T21:07:48.429Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-23T21:07:48.433Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/28/estado - Respuesta: 200 - Estado cambiado
2025-11-23T21:07:48.444Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28
2025-11-23T21:07:48.447Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:07:48.449Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:07:48.464Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28
2025-11-23T21:07:48.465Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:07:48.465Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:07:48.466Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Buscando solicitud por ID
2025-11-23T21:07:48.468Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:07:48.472Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/contenedores/15?estadoNombre=EN_TRANSITO
2025-11-23T21:07:48.480Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:07:48.485Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:07:48.494Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/contenedores/15?estadoNombre=EN_TRANSITO
2025-11-23T21:07:48.505Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.updateEstadoContenedor(java.lang.Long,java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:07:48.507Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.updateEstadoContenedor(java.lang.Long,java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:07:53.674Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28
2025-11-23T21:07:53.677Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:07:53.677Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:07:53.684Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28
2025-11-23T21:07:53.693Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:07:53.694Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:07:53.696Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Buscando solicitud por ID
2025-11-23T21:07:53.698Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:07:53.707Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/contenedores/15?estadoNombre=EN_DEPOSITO
2025-11-23T21:07:53.710Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:07:53.711Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.6, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:07:53.712Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/contenedores/15?estadoNombre=EN_DEPOSITO
2025-11-23T21:07:53.713Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.updateEstadoContenedor(java.lang.Long,java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:07:53.714Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.updateEstadoContenedor(java.lang.Long,java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:08:18.482Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28/seguimiento
2025-11-23T21:08:18.484Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:08:18.485Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:08:18.486Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28/seguimiento
2025-11-23T21:08:18.492Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:08:18.492Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:08:18.493Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28/seguimiento - Consultando seguimiento de solicitud
2025-11-23T21:08:24.534Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/15/seguimiento
2025-11-23T21:08:24.548Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:08:24.549Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d6d01df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:08:24.549Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/15/seguimiento
2025-11-23T21:08:24.551Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:08:24.552Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:08:24.553Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/15/seguimiento - Consultando seguimiento
2025-11-23T21:08:24.559Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/15/seguimiento - Respuesta: 200 - Seguimiento obtenido
2025-11-23T21:15:02.376Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28/seguimiento
2025-11-23T21:15:02.386Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:15:02.387Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c4862f40, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:15:02.388Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28/seguimiento
2025-11-23T21:15:02.389Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:15:02.391Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:15:02.392Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28/seguimiento - Consultando seguimiento de solicitud
2025-11-23T21:16:12.732Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/15/seguimiento
2025-11-23T21:16:12.734Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:16:12.734Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c4862f40, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:16:12.734Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/15/seguimiento
2025-11-23T21:16:12.735Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:16:12.742Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:16:12.750Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/15/seguimiento - Consultando seguimiento
2025-11-23T21:16:12.764Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/15/seguimiento - Respuesta: 200 - Seguimiento obtenido
2025-11-23T21:16:30.320Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/28
2025-11-23T21:16:30.322Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:16:30.322Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c4862f40, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:16:30.323Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/28
2025-11-23T21:16:30.324Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:16:30.324Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:16:30.325Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Buscando solicitud por ID
2025-11-23T21:16:30.327Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/28 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:23:15.571Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T21:23:15.594Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-23T21:23:15.607Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-23T21:23:17.908Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-23T21:23:17.911Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-23T21:23:18.940Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T21:23:18.993Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2025-11-23T21:23:19.772Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-23T21:23:19.803Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T21:23:19.805Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-23T21:23:19.858Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-23T21:23:19.862Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1906 ms
2025-11-23T21:23:20.544Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T21:23:20.590Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-23T21:23:20.807Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1f6c4ae
2025-11-23T21:23:20.810Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-23T21:23:20.838Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T21:23:21.699Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T21:23:22.337Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T21:23:22.356Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-23T21:23:22.773Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-23T21:23:23.172Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-23T21:23:23.182Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 5.794 seconds (process running for 6.656)
2025-11-23T21:25:31.733Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-23T21:25:31.749Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T21:25:31.833Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:25:31.834Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:25:31.837Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T21:25:31.958Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T21:25:33.793Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T21:25:33.795Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T21:25:34.889Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T21:25:34.890Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T21:25:34.901Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T21:25:34.933Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 16 para la solicitud
2025-11-23T21:25:34.936Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T21:25:34.943Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 29 - Estado: PENDIENTE
2025-11-23T21:25:34.943Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 29
2025-11-23T21:25:45.328Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/29
2025-11-23T21:25:45.333Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:25:45.334Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:25:45.335Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/29
2025-11-23T21:25:45.339Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:25:45.346Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:25:45.347Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29 - Buscando solicitud por ID
2025-11-23T21:25:45.359Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:26:01.038Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/29/ruta?rutaId=11
2025-11-23T21:26:01.040Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:26:01.041Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:26:01.042Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/29/ruta?rutaId=11
2025-11-23T21:26:01.044Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:26:01.045Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:26:01.045Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/29/ruta - Asociando rutaId: 11
2025-11-23T21:26:01.047Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Seteando rutaId 11 para solicitud 29
2025-11-23T21:26:01.053Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T21:26:01.055Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Solicitud ID: 29 actualizada con rutaId: 11
2025-11-23T21:26:01.068Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/29/estado?nuevoEstado=PROGRAMADA
2025-11-23T21:26:01.070Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:26:01.070Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:26:01.071Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/29/estado?nuevoEstado=PROGRAMADA
2025-11-23T21:26:01.077Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:26:01.078Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:26:01.078Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/29/estado - Cambiando estado a: PROGRAMADA
2025-11-23T21:26:01.079Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 29 a PROGRAMADA
2025-11-23T21:26:01.083Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.services.SolicitudService        : Estado cambiado a PROGRAMADA
2025-11-23T21:26:01.084Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/29/estado - Respuesta: 200 - Estado cambiado
2025-11-23T21:26:30.186Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/29/seguimiento
2025-11-23T21:26:30.190Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:26:30.192Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:26:30.207Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/29/seguimiento
2025-11-23T21:26:30.218Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:26:30.223Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:26:30.224Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29/seguimiento - Consultando seguimiento de solicitud
2025-11-23T21:26:46.419Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/29
2025-11-23T21:26:46.422Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:26:46.422Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:26:46.423Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/29
2025-11-23T21:26:46.424Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:26:46.424Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:26:46.425Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29 - Buscando solicitud por ID
2025-11-23T21:26:46.430Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:26:46.436Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/16
2025-11-23T21:26:46.440Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:26:46.443Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:26:46.449Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/16
2025-11-23T21:26:46.459Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:26:46.466Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:26:46.468Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/16 - Buscando contenedor por ID
2025-11-23T21:26:46.471Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/16 - Respuesta: 200 - Contenedor encontrado
2025-11-23T21:28:27.423Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/29/estado?nuevoEstado=EN_TRANSITO
2025-11-23T21:28:27.425Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:28:27.426Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:28:27.427Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/29/estado?nuevoEstado=EN_TRANSITO
2025-11-23T21:28:27.428Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:28:27.429Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:28:27.429Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/29/estado - Cambiando estado a: EN_TRANSITO
2025-11-23T21:28:27.431Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 29 a EN_TRANSITO
2025-11-23T21:28:27.438Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.services.SolicitudService        : Estado cambiado a EN_TRANSITO
2025-11-23T21:28:27.445Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/29/estado - Respuesta: 200 - Estado cambiado
2025-11-23T21:28:27.450Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/29
2025-11-23T21:28:27.452Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:28:27.452Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:28:27.452Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/29
2025-11-23T21:28:27.454Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:28:27.454Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:28:27.454Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29 - Buscando solicitud por ID
2025-11-23T21:28:27.457Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:28:27.462Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/contenedores/16?estadoNombre=EN_TRANSITO
2025-11-23T21:28:27.463Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:28:27.464Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:28:27.465Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/contenedores/16?estadoNombre=EN_TRANSITO
2025-11-23T21:28:27.468Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.updateEstadoContenedor(java.lang.Long,java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:28:27.469Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.updateEstadoContenedor(java.lang.Long,java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:28:27.471Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.c.ContenedorController           : PATCH /api/v1/contenedores/16 - Actualizando estado - estadoNombre: EN_TRANSITO -> estadoId: 3
2025-11-23T21:28:27.472Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.ContenedorService       : Actualizando estado del contenedor ID: 16 a estado ID: 3
2025-11-23T21:28:27.475Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.s.EstadoTransicionService        : Transición de contenedor no válida: LIBRE -> EN_TRANSITO
2025-11-23T21:28:27.476Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.ContenedorService       : Transición de estado inválida de LIBRE a EN_TRANSITO
2025-11-23T21:28:33.264Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/29/seguimiento
2025-11-23T21:28:33.268Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:28:33.268Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:28:33.270Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/29/seguimiento
2025-11-23T21:28:33.271Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:28:33.271Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:28:33.272Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29/seguimiento - Consultando seguimiento de solicitud
2025-11-23T21:28:36.724Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/29
2025-11-23T21:28:36.726Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:28:36.727Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:28:36.727Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/29
2025-11-23T21:28:36.728Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:28:36.729Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:28:36.729Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29 - Buscando solicitud por ID
2025-11-23T21:28:36.732Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:28:36.736Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/contenedores/16?estadoNombre=EN_DEPOSITO
2025-11-23T21:28:36.739Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:28:36.739Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:28:36.740Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/contenedores/16?estadoNombre=EN_DEPOSITO
2025-11-23T21:28:36.741Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.updateEstadoContenedor(java.lang.Long,java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:28:36.742Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.updateEstadoContenedor(java.lang.Long,java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:28:36.744Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.c.ContenedorController           : PATCH /api/v1/contenedores/16 - Actualizando estado - estadoNombre: EN_DEPOSITO -> estadoId: 4
2025-11-23T21:28:36.745Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.ContenedorService       : Actualizando estado del contenedor ID: 16 a estado ID: 4
2025-11-23T21:28:36.747Z  WARN 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.s.EstadoTransicionService        : Transición de contenedor no válida: LIBRE -> EN_DEPOSITO
2025-11-23T21:28:36.747Z ERROR 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.ContenedorService       : Transición de estado inválida de LIBRE a EN_DEPOSITO
2025-11-23T21:28:42.326Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/16/seguimiento
2025-11-23T21:28:42.329Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:28:42.329Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:28:42.330Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/16/seguimiento
2025-11-23T21:28:42.332Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:28:42.333Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:28:42.334Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/16/seguimiento - Consultando seguimiento
2025-11-23T21:28:42.340Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-6] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/16/seguimiento - Respuesta: 200 - Seguimiento obtenido
2025-11-23T21:28:50.070Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/29
2025-11-23T21:28:50.073Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:28:50.074Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:28:50.081Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/29
2025-11-23T21:28:50.092Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:28:50.102Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:28:50.108Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29 - Buscando solicitud por ID
2025-11-23T21:28:50.120Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-5] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29 - Respuesta: 200 - Solicitud encontrada
2025-11-23T21:29:06.649Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes
2025-11-23T21:29:06.652Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:29:06.653Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:29:06.656Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes
2025-11-23T21:29:06.669Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:29:06.670Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findAll(java.lang.String,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:29:06.671Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Consultando solicitudes con filtros - estado: null, clienteId: null
2025-11-23T21:29:06.694Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes - Respuesta: 200 - 29 solicitudes encontradas
2025-11-23T21:29:19.650Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/29/seguimiento
2025-11-23T21:29:19.651Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:29:19.654Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@89bc5cfb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:29:19.659Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/29/seguimiento
2025-11-23T21:29:19.669Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:29:19.679Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:29:19.680Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-9] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/29/seguimiento - Consultando seguimiento de solicitud
2025-11-23T21:33:38.327Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/12/seguimiento
2025-11-23T21:33:38.338Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:33:38.338Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@36183763, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:33:38.338Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/12/seguimiento
2025-11-23T21:33:38.341Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:33:38.341Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoSolicitud(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:33:38.342Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/12/seguimiento - Consultando seguimiento de solicitud
2025-11-23T21:37:32.236Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/seguimiento
2025-11-23T21:37:32.238Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:37:32.244Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@36183763, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:37:32.253Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/seguimiento
2025-11-23T21:39:54.391Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/5/seguimiento
2025-11-23T21:39:54.401Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:39:54.402Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fa790110, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:39:54.402Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/5/seguimiento
2025-11-23T21:39:54.404Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:39:54.409Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T21:39:54.410Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/5/seguimiento - Consultando seguimiento
2025-11-23T21:39:54.418Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/5/seguimiento - Respuesta: 200 - Seguimiento obtenido
2025-11-23T21:40:32.385Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/contenedor/5/seguimiento
2025-11-23T21:40:32.388Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T21:40:32.389Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fa790110, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T21:40:32.390Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/contenedor/5/seguimiento
2025-11-23T21:40:32.394Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoByContenedor(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:40:32.395Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoByContenedor(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T21:40:32.395Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/contenedor/5/seguimiento - Buscando última solicitud del contenedor
2025-11-23T21:40:32.396Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Buscando última solicitud para contenedor ID: 5
2025-11-23T21:40:32.404Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Última solicitud encontrada: ID 18, Estado: PROGRAMADA
2025-11-23T21:40:32.454Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Información de ruta 2 agregada al seguimiento
2025-11-23T21:40:32.458Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/contenedor/5/seguimiento - Respuesta: 200 - Seguimiento encontrado
2025-11-23T22:26:09.856Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T22:26:09.890Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-23T22:26:09.908Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-23T22:26:12.306Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Starting MsSolicitudesApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 1 (/app/app.jar started by root in /app)
2025-11-23T22:26:12.308Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : No active profile set, falling back to 1 default profile: "default"
2025-11-23T22:26:13.168Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T22:26:13.219Z  INFO 1 --- [ms-solicitudes] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2025-11-23T22:26:13.802Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-11-23T22:26:13.835Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T22:26:13.775Z  INFO 1 --- [ms-solicitudes] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-23T22:26:13.833Z  INFO 1 --- [ms-solicitudes] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-23T22:26:13.834Z  INFO 1 --- [ms-solicitudes] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1476 ms
2025-11-23T22:26:14.373Z  INFO 1 --- [ms-solicitudes] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T22:26:14.395Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-23T22:26:14.592Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ec427
2025-11-23T22:26:14.594Z  INFO 1 --- [ms-solicitudes] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-23T22:26:14.631Z  WARN 1 --- [ms-solicitudes] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T22:26:15.435Z  INFO 1 --- [ms-solicitudes] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T22:26:16.129Z  WARN 1 --- [ms-solicitudes] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T22:26:16.142Z DEBUG 1 --- [ms-solicitudes] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-23T22:26:16.393Z DEBUG 1 --- [ms-solicitudes] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-23T22:26:16.620Z  INFO 1 --- [ms-solicitudes] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-11-23T22:26:16.629Z  INFO 1 --- [ms-solicitudes] [main] c.b.t.m.MsSolicitudesApplication         : Started MsSolicitudesApplication in 4.906 seconds (process running for 5.793)
2025-11-23T22:31:19.837Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-23T22:31:19.870Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/solicitudes
2025-11-23T22:31:19.974Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T22:31:19.976Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9cef2349, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T22:31:19.978Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/solicitudes
2025-11-23T22:31:20.098Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Creando nueva solicitud
2025-11-23T22:31:22.043Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Santa Fe 1234, CABA, Argentina': lat=-34.5929644, lon=-58.4056192
2025-11-23T22:31:22.043Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de origen geocodificadas: lat=-34.5929644, lon=-58.4056192
2025-11-23T22:31:24.035Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.GeocodificacionService  : Coordenadas obtenidas vía calculos para 'Av. Corrientes 5678, CABA, Argentina': lat=-34.5957904, lon=-58.4433759
2025-11-23T22:31:24.035Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Coordenadas de destino geocodificadas: lat=-34.5957904, lon=-58.4433759
2025-11-23T22:31:24.047Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.ContenedorService       : Guardando contenedor para cliente ID: 2
2025-11-23T22:31:24.070Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Nuevo contenedor creado con ID 17 para la solicitud (estado: OCUPADO)
2025-11-23T22:31:24.074Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Estado PENDIENTE asignado a la nueva solicitud - ID Estado: 1
2025-11-23T22:31:24.082Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.services.SolicitudService        : Solicitud creada exitosamente con ID: 30 - Estado: PENDIENTE
2025-11-23T22:31:24.087Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-1] c.b.t.m.controllers.SolicitudController  : POST /api/v1/solicitudes - Respuesta: 200 - Solicitud creada con ID: 30
2025-11-23T22:31:29.749Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/30
2025-11-23T22:31:29.754Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T22:31:29.755Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9cef2349, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T22:31:29.756Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/30
2025-11-23T22:31:29.759Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T22:31:29.767Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T22:31:29.768Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/30 - Buscando solicitud por ID
2025-11-23T22:31:29.778Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-2] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/30 - Respuesta: 200 - Solicitud encontrada
2025-11-23T22:31:39.576Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/v1/solicitudes/30/ruta?rutaId=12
2025-11-23T22:31:39.578Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T22:31:39.579Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9cef2349, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T22:31:39.580Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/solicitudes/30/ruta?rutaId=12
2025-11-23T22:31:39.583Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T22:31:39.584Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.setRutaId(java.lang.Long,java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T22:31:39.584Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.controllers.SolicitudController  : PATCH /api/v1/solicitudes/30/ruta - Asociando rutaId: 12
2025-11-23T22:31:39.585Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Seteando rutaId 12 para solicitud 30
2025-11-23T22:31:39.591Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Estado de solicitud cambiado a PROGRAMADA
2025-11-23T22:31:39.605Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-3] c.b.t.m.services.SolicitudService        : Solicitud ID: 30 actualizada con rutaId: 12
2025-11-23T22:31:39.625Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/v1/solicitudes/30/estado?nuevoEstado=PROGRAMADA
2025-11-23T22:31:39.629Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T22:31:39.634Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9cef2349, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T22:31:39.637Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/v1/solicitudes/30/estado?nuevoEstado=PROGRAMADA
2025-11-23T22:31:39.642Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T22:31:39.643Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.cambiarEstado(java.lang.Long,java.lang.String); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T22:31:39.643Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/30/estado - Cambiando estado a: PROGRAMADA
2025-11-23T22:31:39.644Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Cambiando estado de solicitud 30 a PROGRAMADA
2025-11-23T22:31:39.649Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Estado cambiado a PROGRAMADA
2025-11-23T22:31:39.656Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : PUT /api/v1/solicitudes/30/estado - Respuesta: 200 - Estado cambiado
2025-11-23T22:32:32.936Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/30
2025-11-23T22:32:32.939Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T22:32:32.939Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9cef2349, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T22:32:32.940Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/30
2025-11-23T22:32:32.942Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T22:32:32.942Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.findById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T22:32:32.945Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/30 - Buscando solicitud por ID
2025-11-23T22:32:32.952Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-7] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/30 - Respuesta: 200 - Solicitud encontrada
2025-11-23T22:32:32.962Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/17
2025-11-23T22:32:32.964Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T22:32:32.965Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9cef2349, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.3, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T22:32:32.968Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/17
2025-11-23T22:32:32.979Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T22:32:32.986Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getContenedorById(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T22:32:32.993Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/17 - Buscando contenedor por ID
2025-11-23T22:32:32.998Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-8] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/17 - Respuesta: 200 - Contenedor encontrado
2025-11-23T22:33:36.767Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/contenedores/17/seguimiento
2025-11-23T22:33:36.770Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T22:33:36.770Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9cef2349, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T22:33:36.771Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/contenedores/17/seguimiento
2025-11-23T22:33:36.774Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T22:33:36.775Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.ContenedorController.getSeguimiento(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.ContenedorController]
2025-11-23T22:33:36.776Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/17/seguimiento - Consultando seguimiento
2025-11-23T22:33:36.790Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-10] c.b.t.m.c.ContenedorController           : GET /api/v1/contenedores/17/seguimiento - Respuesta: 200 - Seguimiento obtenido
2025-11-23T22:34:51.502Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/contenedor/{contenedorId}/seguimiento
2025-11-23T22:34:51.505Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T22:34:51.508Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9cef2349, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T22:34:51.509Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/contenedor/{contenedorId}/seguimiento
2025-11-23T22:34:59.064Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/contenedor/17}/seguimiento
2025-11-23T22:34:59.067Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T22:34:59.067Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9cef2349, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T22:34:59.082Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/contenedor/17}/seguimiento
2025-11-23T22:35:26.772Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/solicitudes/contenedor/16/seguimiento
2025-11-23T22:35:26.774Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-11-23T22:35:26.784Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9cef2349, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.18.0.8, SessionId=null], Granted Authorities=[ROLE_TRANSPORTISTA, ROLE_OPERADOR, ROLE_ADMIN, ROLE_CLIENTE, ROLE_RESPONSABLE]]
2025-11-23T22:35:26.784Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/solicitudes/contenedor/16/seguimiento
2025-11-23T22:35:26.786Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoByContenedor(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T22:35:26.787Z DEBUG 1 --- [ms-solicitudes] [http-nio-8083-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.backend.tpi.ms_solicitudes.controllers.SolicitudController.getSeguimientoByContenedor(java.lang.Long); target is of class [com.backend.tpi.ms_solicitudes.controllers.SolicitudController]
2025-11-23T22:35:26.790Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/contenedor/16/seguimiento - Buscando última solicitud del contenedor
2025-11-23T22:35:26.799Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Buscando última solicitud para contenedor ID: 16
2025-11-23T22:35:26.806Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Última solicitud encontrada: ID 29, Estado: EN_TRANSITO
2025-11-23T22:35:26.849Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.services.SolicitudService        : Información de ruta 11 agregada al seguimiento
2025-11-23T22:35:26.854Z  INFO 1 --- [ms-solicitudes] [http-nio-8083-exec-4] c.b.t.m.controllers.SolicitudController  : GET /api/v1/solicitudes/contenedor/16/seguimiento - Respuesta: 200 - Seguimiento encontrado
2025-11-23T22:36:38.573Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T22:36:38.576Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-23T22:36:38.579Z  INFO 1 --- [ms-solicitudes] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
